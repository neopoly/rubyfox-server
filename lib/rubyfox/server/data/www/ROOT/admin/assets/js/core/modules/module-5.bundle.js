/*! (c) gotoAndPlay | All rights reserved */
(window["webpackJsonpapplication"] = window["webpackJsonpapplication"] || []).push([["module-5"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/components/charts/chart-utils.js":
/*!**********************************************!*\
  !*** ./src/components/charts/chart-utils.js ***!
  \**********************************************/
/*! exports provided: getFormattedDateTime, getBasicSharedTemplate, getMemorySharedTemplate, getMemoryValueAxisLabelTemplate, getNetworkSharedTemplate, getNetworkValueAxisLabelTemplate, getNetworkValueAxisLabelTemplateB, getUserCountSharedTemplate, getTimeRangeTooltipTemplate, getWRBytesLabelTemplate, getBasicTemplate, getMemoryTemplate, getNetworkTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFormattedDateTime", function() { return getFormattedDateTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBasicSharedTemplate", function() { return getBasicSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemorySharedTemplate", function() { return getMemorySharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemoryValueAxisLabelTemplate", function() { return getMemoryValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkSharedTemplate", function() { return getNetworkSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkValueAxisLabelTemplate", function() { return getNetworkValueAxisLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkValueAxisLabelTemplateB", function() { return getNetworkValueAxisLabelTemplateB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUserCountSharedTemplate", function() { return getUserCountSharedTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTimeRangeTooltipTemplate", function() { return getTimeRangeTooltipTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWRBytesLabelTemplate", function() { return getWRBytesLabelTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBasicTemplate", function() { return getBasicTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMemoryTemplate", function() { return getMemoryTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkTemplate", function() { return getNetworkTemplate; });
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utilities */ "./src/utils/utilities.js");


function getFormattedDateTime(date, format = 'dd MMM HH:mm:ss')
{
	return kendo.toString(date, format);
}

function getBasicSharedTemplate(valueFormat = '{0}') {
	return kendo.template(`
		<div class="chart-tooltip-category"><strong>#: category #</strong></div>
		# for (var i = 0; i < points.length; i++) { #
		<div>
			<i class="fas fa-square" style="color: #: points[i].color # "></i>
			#: points[i].series.name# : #: kendo.format('${valueFormat}', points[i].value) #
		</div>
		# } #
	`);
}

function getMemorySharedTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: category #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: bytesToSize(points[i].value) #
			</div>
			# } #
		`)(dataItem);
	};
}

function getMemoryValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			#: bytesToSize(value) #
		`)(dataItem);
	};
}

function getNetworkSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: kBytesToSize(points[i].value, 1, '', '/s') #
			</div>
			# } #
		`)(dataItem);
	};
}

function getNetworkValueAxisLabelTemplate() {
	return function(dataItem) {
		dataItem.kBytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["kBytesToSize"]; // Pass kBytesToSize utility function to template
		return kendo.template(`
			#: kBytesToSize(value, 1, '', '/s') #
		`)(dataItem);
	};
}

function getNetworkValueAxisLabelTemplateB() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			#: bytesToSize(value, 1, '', '/s') #
		`)(dataItem);
	};
}

function getUserCountSharedTemplate(categoryFormat = 'dd MMM HH:mm:ss') {
	return function(dataItem) {
		return kendo.template(`
			<div class="chart-tooltip-category"><strong>#: kendo.toString(category, '${categoryFormat}') #</strong></div>
			# for (var i = 0; i < points.length; i++) { #
			<div>
				<i class="fas fa-square" style="color: #: points[i].color # "></i>
				#: points[i].series.name# : #: points[i].value #
			</div>
			# } #
		`)(dataItem);
	};
}

function getTimeRangeTooltipTemplate() {
	return function(dataItem) {
		dataItem.getTooltipString = function(v1, v2) {
			if (v1 == v2)
			{
				if (v2 == -24)
					v2 = -23;

				v1 = v2 - 1;
			}

			let start = Math.abs(v1);
			let end = Math.abs(v2);

			return `From ${start} hour${start != 1 ? 's' : ''} ago to ${end > 0 ? ('to ' + end + ' hour' + (end != 1 ? 's' : '') + ' ago') : 'now'}`;
		}; // Pass utility function to template
		return kendo.template(`
			#: getTooltipString(selectionStart, selectionEnd) #
		`)(dataItem);
	};
}

function getWRBytesLabelTemplate() {
	return function(dataItem) {
		return kendo.template(`
			#: value # #: dataItem.unit #
		`)(dataItem);
	};
}

function getBasicTemplate(valueFormat = '{0}') {
	return kendo.template(`
		<div>
			<span class="text-nowrap">#: kendo.toString(new Date(value.x), "dd/MM/yy HH:mm") #</span>
			<br>
			<strong class="text-nowrap">#: series.name #: #: kendo.format('${valueFormat}', value.y) # </strong>
		</div>
	`);
}

function getMemoryTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			<div>
				<span class="text-nowrap">#: kendo.toString(new Date(value.x), "dd/MM/yy HH:mm") #</span>
				<br>
				<strong class="text-nowrap">#: series.name #: #: bytesToSize(value.y) # </strong>
			</div>
		`)(dataItem);
	};
}

function getNetworkTemplate() {
	return function(dataItem) {
		dataItem.bytesToSize = _utils_utilities__WEBPACK_IMPORTED_MODULE_0__["bytesToSize"]; // Pass bytesToSize utility function to template
		return kendo.template(`
			<div>
				<span class="text-nowrap">#: kendo.toString(new Date(value.x), "dd/MM/yy HH:mm") #</span>
				<br>
				<strong class="text-nowrap">#: series.name #: #: bytesToSize(value.y, 1, '', '/s') # </strong>
			</div>
		`)(dataItem);
	};
}


/***/ }),

/***/ "./src/components/module-specific/cluster-monitor/node-mini-charts.js":
/*!****************************************************************************!*\
  !*** ./src/components/module-specific/cluster-monitor/node-mini-charts.js ***!
  \****************************************************************************/
/*! exports provided: NodeMiniCharts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NodeMiniCharts", function() { return NodeMiniCharts; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../charts/chart-utils */ "./src/components/charts/chart-utils.js");



class NodeMiniCharts extends HTMLElement
{
	constructor(nodeId, nodeAlias, nodeName)
	{
	    super();

		const shadowRoot = this.attachShadow({mode: 'open'});
		shadowRoot.innerHTML = `
			<link rel="stylesheet" type="text/css" href="assets/css/custom-bootstrap.min.css" />
			<link rel="stylesheet" type="text/css" href="assets/css/kendo.custom-bootstrap-v4.css" />

			<style>
				.box {
					background-color: #FFF;
					border-radius: .5rem;
				}

				.chart-container {
					cursor: pointer;
				}
			</style>

			<div class="container-fluid">
				<div class="row py-3 box">
					<div class="col-sm-6 col-md-4 col-lg-2 d-flex flex-column justify-content-center">
						<small class="text-muted">Node</small>
						<strong id="alias"></strong>
						<small id="name"></small>
					</div>
					<div class="col-sm-6 col-md-4 col-lg-2 text-center chart-container" data-type="ccu">
						<div class="chart"></div>
					</div>
					<div class="col-sm-6 col-md-4 col-lg-2 text-center chart-container" data-type="cpu">
						<div class="chart"></div>
					</div>
					<div class="col-sm-6 col-md-4 col-lg-2 text-center chart-container" data-type="mem">
						<div class="chart"></div>
					</div>
					<div class="col-sm-6 col-md-4 col-lg-2 text-center chart-container" data-type="net">
						<div class="chart"></div>
					</div>
					<div class="col-sm-6 col-md-4 col-lg-2 text-center chart-container" data-type="thd">
						<div class="chart"></div>
					</div>
				</div>
			</div>
		`;

		this.nId = nodeId;
		this.nAlias = nodeAlias;
		this.nName = nodeName;

		// Set tag's id attribute
		this.id = 'node_' + nodeId;

		if (nodeAlias)
		{
			$('#alias', shadowRoot).text(nodeAlias);
			$('#name', shadowRoot).text(nodeName);
		}
		else
		{
			$('#alias', shadowRoot).text(nodeName);
			$('#name', shadowRoot).hide();
		}

		this._getChartDiv('ccu').kendoChart({
			transitions: false,
			chartArea: {
				height: 120,
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },
			title: {
				text: 'Concurrent Users',
				font: '12px sans-serif',
				color: '#212529'
			},
	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: false,
				  type: 'circle',
				  size: 2,
			    },
				width: 2
	        },
	        series: [
				{
	                xField: 'ts',
	                yField: 'val',
					name: 'CCU',
					color: '#3399FF'
	            }
			],
	        yAxis: {
	            labels: {
	                format: '{0}',
					step: 2
	            },
	            line: {
	                visible: false
	            },
				min: 0
	        },
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: true,
				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getBasicTemplate"])('{0}'),
				background: '#e4e4e4'
	        }
	    }).data('kendoChart');

		this._getChartDiv('cpu').kendoChart({
			transitions: false,
			chartArea: {
				height: 120,
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },
			title: {
				text: 'CPU',
				font: '12px sans-serif',
				color: '#212529'
			},
	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}%',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: false,
				  type: 'circle',
				  size: 3,
			    },
				width: 2
	        },
	        series: [
				{
	                xField: 'ts',
	                yField: 'val',
					name: 'CPU',
					color: '#3399FF'
	            }
			],
	        yAxis: {
	            labels: {
	                format: '{0}%'
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	    		max: 100,
      			majorUnit: 25
	        },
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: true,
				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getBasicTemplate"])('{0}%'),
				background: '#e4e4e4',
	        }
	    }).data('kendoChart');

		this._getChartDiv('mem').kendoChart({
			transitions: false,
			chartArea: {
				height: 120,
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },
			title: {
				text: 'Memory',
				font: '12px sans-serif',
				color: '#212529'
			},
	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: false,
				  type: 'circle',
				  size: 3,
			    },
				width: 2
	        },
	        series: [
				{
	                xField: 'ts',
	                yField: 'val',
					name: 'Memory',
					color: '#3399FF'
	            }
			],
	        yAxis: {
	            labels: {
	                format: '{0}',
      				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getMemoryValueAxisLabelTemplate"])(),
					step: 2
	            },
	            line: {
	                visible: false
	            },
				min: 0,
	        },
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: true,
				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getMemoryTemplate"])(),
				background: '#e4e4e4',
	        }
	    }).data('kendoChart');

		this._getChartDiv('thd').kendoChart({
			transitions: false,
			chartArea: {
				height: 120,
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },
			title: {
				text: 'Threads',
				font: '12px sans-serif',
				color: '#212529'
			},
	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: false,
				  type: 'circle',
				  size: 3,
			    },
				width: 2
	        },
	        series: [
				{
	                xField: 'ts',
	                yField: 'val',
					name: 'Threads',
					color: '#3399FF'
	            }
			],
	        yAxis: {
	            labels: {
	                format: '{0}',
					step: 2
	            },
	            line: {
	                visible: false
	            },
				min: 0
	        },
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: true,
				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getBasicTemplate"])('{0}'),
				background: '#e4e4e4'
	        }
	    }).data('kendoChart');

		this._getChartDiv('net').kendoChart({
			transitions: false,
			chartArea: {
				height: 120,
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },
			title: {
				text: 'Network',
				font: '12px sans-serif',
				color: '#212529'
			},
	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: false,
				  type: 'circle',
				  size: 3,
			    },
				width: 2
	        },
	        series: [
				{
	                xField: 'ts',
	                yField: 'val',
					name: 'Network Out',
					color: '#CC0000',
	            },
				{
	                xField: 'ts',
	                yField: 'val1',
					name: 'Network In',
					color: '#009900',
	            }
			],
	        yAxis: {
	            labels: {
	                format: '{0}',
      				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getNetworkValueAxisLabelTemplateB"])(),
					step: 2
	            },
	            line: {
	                visible: false
	            },
				min: 0
	        },
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: false
				},
				labels: {
					visible: false
				}
	        },
			tooltip: {
				visible: true,
				template: Object(_charts_chart_utils__WEBPACK_IMPORTED_MODULE_1__["getNetworkTemplate"])(),
				background: '#e4e4e4'
	        }
	    }).data('kendoChart');

		// Add chart container click listeners
		$('.chart-container', this.shadowRoot).on('click', $.proxy(this._onChartContainerClick, this));

		$(window).on('resize', $.proxy(this._onWindowResize, this));
		this._onWindowResize();
	}

	_onWindowResize()
	{
		this._getChartWidget('ccu').redraw();
		this._getChartWidget('cpu').redraw();
		this._getChartWidget('mem').redraw();
		this._getChartWidget('thd').redraw();
		this._getChartWidget('net').redraw();
	}

	destroy()
	{
		$(window).off('resize');
	}

	addChartEntries(type, data, data1, intervalMillis)
	{
		let lastTimestamp = data.getLong('last');
		let values = data.getLongArray('data');
		let values1 = (data1 != null ? data1.getLongArray('data') : null);
		let chartWidget = this._getChartWidget(type);

		this._addChartEntries(chartWidget, values, values1, intervalMillis, lastTimestamp);
	}

	_addChartEntries(chartWidget, values, values1, intervalMillis, lastTimestamp)
	{
		// Divide interval by the number of data points to calculate their timestamps
		let sliceMillis = Math.round(intervalMillis / values.length);

		let ds = new kendo.data.DataSource();
		let firstTimestamp = lastTimestamp - intervalMillis;

		for (let i = 0; i < values.length; i++)
		{
			let timestamp = firstTimestamp + (sliceMillis * i);

			let value = values[i] < 0 ? null : values[i];
			let value1 = values1 ? (values1[i] < 0 ? null : values1[i]) : null;

			let entry = {
				ts: timestamp,
				val: value,
				val1: value1,
			};

			ds.add(entry);
		}

		// Set chart's x-axis limits
		chartWidget.options.xAxis.min = firstTimestamp;
		chartWidget.options.xAxis.max = lastTimestamp;

		chartWidget.setDataSource(ds);
	}

	_getChartDiv(type)
	{
		return $('.chart-container[data-type="' + type + '"] .chart', this.shadowRoot);
	}

	_getChartWidget(type)
	{
		return this._getChartDiv(type).data('kendoChart');
	}

	_onChartContainerClick(e)
	{
		let chartType = $(e.currentTarget).data('type');

		// Dispatch custom event
		let evt = new CustomEvent('chartClick', {
	    	detail: {
				type: chartType,
				node: this.nId,
				options: this._getChartWidget(chartType).options
			},
			bubbles: true,
			cancelable: false,
			composed: true // Allows event to bubble outside of Custom Element
		});

		this.dispatchEvent(evt);
	}
}

// DEFINE COMPONENT
if (!window.customElements.get('node-mini-charts'))
	window.customElements.define('node-mini-charts', NodeMiniCharts);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/modules/cluster-monitor.js":
/*!****************************************!*\
  !*** ./src/modules/cluster-monitor.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ClusterMonitor; });
/* harmony import */ var _base_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-module */ "./src/modules/base-module.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utilities */ "./src/utils/utilities.js");
/* harmony import */ var _components_module_specific_cluster_monitor_node_mini_charts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/module-specific/cluster-monitor/node-mini-charts */ "./src/components/module-specific/cluster-monitor/node-mini-charts.js");





class ClusterMonitor extends _base_module__WEBPACK_IMPORTED_MODULE_0__["BaseModule"]
{
	constructor()
	{
	    super('clusterMon');

		this.MAX_LOG_SIZE = 100;

		// Outgoing requests
		this.REQ_GET_NODES = 'getNodes';
		this.REQ_DEACTIVATE_NODES = 'deact';
		this.REQ_GET_NODES_DATA = 'getDataN';
		this.REQ_GET_CHART_DATA = 'getDataC';
		this.REQ_SCALE_UP = 'scaleUp';
		this.REQ_GET_LOG_MESSAGES = 'getLog';

		// Incoming responses
		this.RESP_NODES = 'nodes';
		this.RESP_NODES_DATA = 'dataN';
		this.RESP_CHART_DATA = 'dataC';
		this.RESP_LOG_MESSAGES = 'log';

		this.intervals = [
			{
				label: 'Last hour',
				minutes: 60,
				points1: 30,
				points2: 30,
			},
			{
				label: 'Last 3 hours',
				minutes: 180,
				points1: 30,
				points2: 90,
			},
			{
				label: 'Last 12 hours',
				minutes: 720,
				points1: 30,
				points2: 180,
			},
			{
				label: 'Last 24 hours',
				minutes: 1440,
				points1: 30,
				points2: 360,
			},
		]

		this._selectedNodes = [];
		this._selectedActiveNodes = [];
		this._chartedNodes = [];
		this._chartInfo = null;
		this._lastLogsReqTimestamp = 0;
	}

	//------------------------------------
	// COMMON MODULE INTERFACE METHODS
	// This members are used by the main controller
	// to communicate with the module's controller.
	//------------------------------------

	initialize(idData, shellController)
	{
		// Call super method
		super.initialize(idData, shellController);

		// Initialize scrolling tabs
		$('#clm-tabNavigator > #tabs').scrollingTabs({
			bootstrapVersion: 4,
			scrollToTabEdge: true,
			enableSwiping: true,
			disableScrollArrowsOnFullyScrolled: true,
			cssClassLeftArrow: 'fa fa-chevron-left',
			cssClassRightArrow: 'fa fa-chevron-right'
		});

		// Initialize buttons
		$('#clm-deactivateBt').on('click', $.proxy(this._onDeactivateBtClick, this));
		$('#clm-scaleUpBt').on('click', $.proxy(this._onScaleUpBtClick, this));
		$('#clm-scaleUpModalBt').on('click', $.proxy(this._onScaleUpConfirmBtClick, this));
		$('#clm-refreshBt').on('click', $.proxy(this._requestNodesList, this));

		// Initialize grid
		this._grid = $('#clm-nodesList').kendoGrid({
			scrollable: true,
            sortable: true,
			//resizable: true,
			selectable: false,
            columns: [
				{
					selectable: true,
					width: 41
				},
				{
	                field: 'name',
	                width: 250,
					title: 'Node',
					template: function(dataItem) {
						if (dataItem['alias'])
							return '<div class="name-cell"><span>' + dataItem['alias'] + '</span> <a href="http://' + dataItem['name'] + ':8080/admin" class="name-admin-link" target="_blank"><i class="fas fa-toolbox"></i></a><br><small class="text-muted">' + dataItem['name'] + '<small></div>';
						else
							return '<div class="name-cell"><span>' + dataItem['name'] + '</span> <a href="http://' + dataItem['name'] + ':8080/admin" class="name-admin-link" target="_blank"><i class="fas fa-toolbox"></i></a></div>';
					}
	            },
	            {
	                field: 'ccu',
	                width: 80,
	                title: 'CCU',
	            },
	            {
	                field: 'cpu',
	                width: 80,
	                title: 'CPU',
					template: function(dataItem) {
						return Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_2__["roundToDecimals"])(dataItem['cpu'], 2) + '%';
					}
	            },
				{
                    title: 'Memory',
                    columns: [
						{
	                        field: 'usedMem',
	                        width: 100,
							title: 'Used',
							template: function(dataItem) {
								return Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_2__["bytesToSize"])(dataItem['usedMem']);
							}
	                    },
						{
	                        field: 'allocMem',
	                        width: 100,
							title: 'Allocated',
							template: function(dataItem) {
								return Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_2__["bytesToSize"])(dataItem['allocMem']);
							}
                    	}
					]
                },
				{
                    title: 'Network',
                    columns: [
						{
	                        field: 'netIn',
	                        width: 100,
							title: 'In',
							template: function(dataItem) {
								return (dataItem['netIn'] > -1 ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_2__["bytesToSize"])(dataItem['netIn'], 2, 'KB', '/s') : '&ndash;');
							}
	                    },
						{
	                        field: 'netOut',
	                        width: 100,
							title: 'Out',
							template: function(dataItem) {
								return (dataItem['netOut'] > -1 ? Object(_utils_utilities__WEBPACK_IMPORTED_MODULE_2__["bytesToSize"])(dataItem['netOut'], 2, 'KB', '/s') : '&ndash;');
							}
                    	}
					]
                },
				{
	                field: 'threads',
	                width: 100,
					title: 'Threads',
	            },
				{
	                field: 'rooms',
	                width: 100,
					title: 'Rooms',
	            },
				{
	                field: 'joinTime',
	                width: 100,
					title: 'Joined',
					sortable: false,
					template: $.proxy(this._getTimeSinceJoinTemplate, this)
	            },
				{
	                field: 'health',
	                width: 75,
					title: 'Health',
					sortable: false,
					template: $.proxy(this._getHealthTemplate, this)
	            },
				{
	                field: 'recyclable',
	                width: 45,
					title: 'R.',
					sortable: false,
					template: $.proxy(this._getRecyclableTemplate, this)
	            },
				{
	                field: 'terminable',
	                width: 45,
					title: 'T.',
					sortable: false,
					template: $.proxy(this._getTerminableTemplate, this)
	            },
			],
			noRecords: {
				template: 'No game nodes.'
			},
			dataSource: {
				schema: {
					model: {
						id: 'id',
						// fields: {
						// 	id: { type: 'string' },
						// 	active: { type: 'boolean' }
						// }
					}
				},
				group: {
					field: 'active',
					dir: 'desc',
				}
            },
			change: $.proxy(this._onNodesGridChange, this),
			dataBound: $.proxy(this._onNodesGridDataBound, this),
        }).data('kendoGrid');

		// Add listener to mini charts container
		$('#clm-nodeMiniChartsContainer').on('chartClick', $.proxy(this._onMiniChartClick, this));

		// Configure detail chart modal
		$('#clm-chartModal').modal({
			backdrop: 'static',
			keyboard: false,
			show: false,
		});

		// Add event listener for modal hidden event
		$('#clm-chartModal').on('hidden.bs.modal', $.proxy(this._onChartModalHidden, this));

		// Initialize data interval dropdowns
		let items = [];
		for (let i = 0; i < this.intervals.length; i++)
			items.push({label:this.intervals[i].label, value:i});

		this._mainRangeDD = $('#clm-mainRangeDD').kendoDropDownList({
			dataTextField: 'label',
			dataValueField: 'value',
			dataSource: items,
			index: 0,
			//valueTemplate: '<span class="text-muted pr-1">Last </span><span>#:data.text#</span>',
			change: $.proxy(this._onMainRangeChange, this)
		}).data('kendoDropDownList');

		$('#clm-mainRangeContainer').hide();

		this._chartRangeDD = $('#clm-chartRangeDD').kendoDropDownList({
			dataTextField: 'label',
			dataValueField: 'value',
			dataSource: items,
			index: 0,
			//valueTemplate: '<span class="text-muted pr-1">Last </span><span>#:data.text#</span>',
			change: $.proxy(this._onChartRangeChange, this)
		}).data('kendoDropDownList');

		// Initialize lobby state info
		$('#clm-lobbyState').hide();

		// Configure scale-up modal
		$('#clm-scaleUpModal').modal({
			backdrop: 'static',
			keyboard: false,
			show: false,
		});

		// Init nodes' number numeric stepper in scale-up modal
		this._numNodesIn = $('#clm-numNodesNS').kendoNumericTextBox({
		    min: 1,
			max: 5,
		    step: 1,
		    format: '#'
		}).data('kendoNumericTextBox');

		// Initialize kendo validation on scale-up form
		this._scaleUpValidator = $('#clm-scaleUpForm').kendoValidator({}).data('kendoValidator');

		// Add listener for scale-up panel hide
		$('#clm-scaleUpModal').on('hidden.bs.modal', $.proxy(this._onScaleUpModalHidden, this));

		// Initialize orchestration log grid
		this._logGrid = $('#clm-logGrid').kendoGrid({
			dataSource: [],
			resizable: true,
			selectable: false,
			noRecords: {
				template: 'No entries.'
			},
			columns: [
				{
					field: 'timestamp',
					title: 'Timestamp',
					width: 180
				},
				{
					field: 'level',
					title: 'Level',
					width: 100
				},
				{
					field: 'message',
					title: 'Message',
					width: 400
				},
			],
			dataBound: function() {
			    this.content.scrollTop(this.tbody.height()); // Scroll to bottom
			}
		}).data('kendoGrid');

		$('#clm_maxLogMsgs').text(this.MAX_LOG_SIZE);

		// Initialize help tooltips
		$(this).kendoTooltip({
			filter: 'i[title].help',
			position: 'right',
			content: function(e) {
				return `<div class="help-tooltip">${e.target.data('title')}</div>`;
			}
		});

		//-------------------------------------------------------

		// Request nodes list to server
		this._requestNodesList();

		// Schedule continuous data request for the selected nodes
		this._requestDataTimer = setInterval($.proxy(this._onRequestDataInterval, this), 60000); // 1 minute

		// Request orchestration logs to server
		this._requestOrchestrationLogs();

		// Schedule continuous orchestration logs request
		this._requestLogsTimer = setInterval($.proxy(this._requestOrchestrationLogs, this), 3000); // 3 seconds
	}

	destroy()
	{
		// Call super method
		super.destroy();

		// Destroy scrolling tabs
		$('#clm-tabNavigator #tabs').scrollingTabs('destroy');

		// Hide modals
		$('#clm-chartModal').modal('hide');
		$('#clm-scaleUpModal').modal('hide');

		// Remove click listeners
		$('#clm-refreshBt').off('click');
		$('#clm-scaleUpBt').off('click');
		$('#clm-scaleUpModalBt').off('click');
		$('#clm-nodeMiniChartsContainer').off('chartClick');

		// Remove scale-up panel listener
		$('#clm-scaleUpModal').off('hidden.bs.modal');

		// Clear nodes, data and logs request scheduling
		clearTimeout(this._requestNodesTimer);
		clearInterval(this._requestDataTimer);
		clearInterval(this._requestLogsTimer);
	}

	onExtensionCommand(command, data)
	{
		if (command == this.RESP_NODES)
		{
			let nodesObj = data.getSFSArray('nodes');

			let nodes = [];
			let nodesIds = [];

			for (let i = 0; i < nodesObj.size(); i++)
			{
				let node = nodesObj.getSFSArray(i);

				nodesIds.push(node.getUtfString(0));

				nodes.push({
					'id': node.getUtfString(0),
					'alias': node.getUtfString(1), // Set in node configuration, but can't be edited - could be removed
					'name': node.getUtfString(2), // IP address or domain name
					'rooms': node.getInt(3),
					'ccu': node.getInt(4),
					'threads': node.getInt(5),
					'cpu': node.getDouble(6),
					'usedMem': node.getLong(7),
					'allocMem': node.getLong(8),
					'netIn': node.getLong(9),
					'netOut': node.getLong(10),
					'joinTime': node.getLong(11),
					'health': node.getBool(12),
					'active': node.getBool(13), // Used for grouping
					'recyclable': node.getBool(14),
					'terminable': node.getBool(15),
				});
			}

			// Get nodes grid datasource
			let ds = this._grid.dataSource;

			// --- REMOVE NODES ---

			let self = this;
			$.map(ds.data(), function (dataItem, index) {
				if (dataItem && !nodesIds.includes(dataItem['id']))
				{
					// Remove node from datastore
					ds.remove(dataItem);

					// Remove node from list of selected nodes (if selected)
					self._selectedNodes = self._selectedNodes.filter(x => x !== dataItem['id']);
					self._selectedActiveNodes = self._selectedActiveNodes.filter(x => x !== dataItem['id']);
				}
			});

			// Update nodes charts view and nodes deactivate button, in case a selected node was removed
			this._updateChartedNodes();
			this._updateDeactivateButton();

			// --- ADD/UPDATE NODES ---

			let activeNodesCnt = 0;

			for (let node of nodes)
			{
				var dataItem = ds.get(node.id);

				// Update node
				if (dataItem)
				{
					dataItem.set('rooms', node.rooms);
					dataItem.set('ccu', node.ccu);
					dataItem.set('threads', node.threads);
					dataItem.set('cpu', node.cpu);
					dataItem.set('usedMem', node.usedMem);
					dataItem.set('allocMem', node.allocMem);
					dataItem.set('netIn', node.netIn);
					dataItem.set('netOut', node.netOut);
					dataItem.set('joinTime', node.joinTime);
					dataItem.set('health', node.health);
					dataItem.set('active', node.active);
					dataItem.set('recyclable', node.recyclable);
					dataItem.set('terminable', node.terminable);

					dataItem.dirty = false; // Hides "dirty" indicator in grid
				}

				// Add node
				else
				 	ds.add(node);

				// Count active nodes
				if (node.active)
					activeNodesCnt++;
			}

			// Refresh grid
			this._grid.refresh();

			// Display global values
			$('#clm-totalActiveNodes').text(activeNodesCnt);
			$('#clm-totalInactiveNodes').text(nodes.length - activeNodesCnt);
			$('#clm-totalCcuLobby').text(data.getInt('ccuLobby'));
			$('#clm-totalCcuNodes').text(data.getInt('ccuNodes'));
			$('#clm-totalRooms').text(data.getInt('rooms'));

			// Show lobby state
			this._showLobbyState(data.getBool('active'));
		}

		else if (command == this.RESP_NODES_DATA)
		{
			let stats = data.getSFSArray('stats');
			let i = this._mainRangeDD.value();
			let intervalMillis = this.intervals[i].minutes * 60 * 1000;

			for (let i = 0; i < stats.size(); i++)
			{
				let nodeStats = stats.getSFSObject(i);

				// Get node id
				let id = nodeStats.getUtfString('id');

				// Get charts item for node
				let item = this.querySelector('#clm-nodeMiniChartsContainer #node_' + id);

				if (item)
				{
					item.addChartEntries('ccu', nodeStats.getSFSObject('ccu'), null, intervalMillis);
					item.addChartEntries('cpu', nodeStats.getSFSObject('cpu'), null, intervalMillis);
					item.addChartEntries('mem', nodeStats.getSFSObject('mem'), null, intervalMillis);
					item.addChartEntries('thd', nodeStats.getSFSObject('thd'), null, intervalMillis);
					item.addChartEntries('net', nodeStats.getSFSObject('netOut'), nodeStats.getSFSObject('netIn'), intervalMillis);
				}
			}
		}

		else if (command == this.RESP_CHART_DATA)
		{
			let chartData = data.getSFSObject('chart');
			let i = this._chartRangeDD.value();
			let intervalMillis = this.intervals[i].minutes * 60 * 1000;

			// Get node id and chart type
			let id = chartData.getUtfString('id');
			let type = chartData.getUtfString('type');

			if (this._chartInfo && this._chartInfo.id == id && this._chartInfo.type == type)
			{
				switch (type)
				{
					case 'net':
						this._addDetailChartEntries(chartData.getSFSObject('netOut'), chartData.getSFSObject('netIn'), intervalMillis);
						break;

					default:
						this._addDetailChartEntries(chartData.getSFSObject(type), null, intervalMillis);
				}
			}
		}

		else if (command == this.RESP_LOG_MESSAGES)
		{
			let logEntries = data.getSFSArray('entries');
			
			for (let e = 0; e < logEntries.size(); e++)
			{
				let logEntry = logEntries.getSFSObject(e);

				let ele = {
					timestamp: kendo.toString(new Date(logEntry.getLong('time')), 'dd/MM/yyyy HH:mm:ss'),
					level: logEntry.getUtfString('level'),
					message: logEntry.getUtfString('msg'),
				};

				let ds = this._logGrid.dataSource;
				ds.add(ele);

				// Check items limit
				while (ds.total() > this.MAX_LOG_SIZE)
					ds.remove(ds.at(0));
			}
		}
	}

	onUptimeUpdated(values)
	{
		this._uptimeSecs = values[3];
		this._uptimeSecs += (values[2] * 60);
		this._uptimeSecs += (values[1] * 60 * 60);

		$('#clm-uptimeDays').text( (values[0] <= 9 ? '00' : (values[0] <= 99 ? '0' : '')) + values[0] );
		$('#clm-uptimeHours').text( (values[1] <= 9 ? '0' : '') + values[1] );
		$('#clm-uptimeMinutes').text( (values[2] <= 9 ? '0' : '') + values[2] );
	}

	//---------------------------------
	// UI EVENT LISTENERS
	//---------------------------------

	_onNodesGridChange(e, args)
	{
		let grid = e.sender;
		let items = grid.items();

		this._selectedNodes = [];
		this._selectedActiveNodes = [];

		for (let i of grid.select())
		{
			let dataItem = grid.dataItem(i);
			this._selectedNodes.push(dataItem['id']);

			if (dataItem['active'])
				this._selectedActiveNodes.push(dataItem['id']);
		}

		// Compare the list of selected nodes with the list of visible
		// chart rows, to show/hide the selected/deselected ones
		this._updateChartedNodes();

		// Enable/disable button to deactivate selected active nodes
		this._updateDeactivateButton();
	}

	_onNodesGridDataBound(e)
	{
		let grid = e.sender;
		let items = grid.items();
		let itemsToSelect = [];
		let self = this;

		items.each(function (idx, row) {
			let dataItem = grid.dataItem(row);
			if (self._selectedNodes.includes(dataItem['id'])) {
			 	itemsToSelect.push(row);
			}
		});

		e.sender.select(itemsToSelect);

		//==================================================

		// Hide group column and collapse icon
		$('#clm-nodesList .k-group-col, #clm-nodesList .k-group-cell').remove();
		let spanCells = $('#clm-nodesList .k-grouping-row').children('td');
		spanCells.attr('colspan', spanCells.attr('colspan') - 1);
		$('#clm-nodesList .k-icon.k-i-collapse').hide();

		// Modify group label
		$('#clm-nodesList .k-grouping-row td p.k-reset').each(function( index ) {
			if ($(this).text() == 'active: true')
				$(this).text('Active nodes');
			else
				$(this).text('Inactive nodes');
		});
	}

	_onMainRangeChange(e)
	{
		// Request nodes data to server
		this._requestNodesData();
	}

	_onChartRangeChange(e)
	{
		// Request detail chart data to server
		this._requestDetailChartData();
	}

	_onRequestDataInterval()
	{
		// Request selected nodes data
		this._requestNodesData();

		// Request detail chart data
		this._requestDetailChartData();
	}

	_requestNodesList()
	{
		// Clear previous request scheduling
		clearTimeout(this._requestNodesTimer);

		// Check if connection is still available
		if (this.smartFox.isConnected)
		{
			// Send request to extension
			this.sendExtensionRequest(this.REQ_GET_NODES);

			// Schedule next request
			this._requestNodesTimer = setTimeout($.proxy(this._requestNodesList, this), 5000); // Every 5 seconds
		}
	}

	_onMiniChartClick(e)
	{
		let nodeId = e.detail.node;
		let nodeDataItem = this._grid.dataSource.get(nodeId);
		let chartType = e.detail.type;
		let chartOptions = e.detail.options;

		// Save ref to charted node
		this._chartInfo = {
			id: nodeId,
			type: chartType
		};

		// Extract chart title from options
		$('#clm-chartModalTitle').text(chartOptions.title.text);

		if (nodeDataItem.alias)
		{
			$('#clm-chartNodeAlias').text(nodeDataItem.alias);
			$('#clm-chartNodeName').text(nodeDataItem.name);
		}
		else
		{
			$('#clm-chartNodeAlias').text(nodeDataItem.name);
			$('#clm-chartNodeName').hide();
		}

		// Set secondary range dropdown to main range value
		let index = this._mainRangeDD.select();
		this._chartRangeDD.select(index);

		// Create chart tag
		$('#clm-nodeDetailChartContainer').append($('<div>', {'class': 'chart'}))

		// Initialize chart
		this._getChartTag().kendoChart({
			transitions: false,
			chartArea: {
				background: 'transparent',
				margin: 0,
			    padding:0
			},
	        legend: {
	            visible: false
	        },

	        seriesDefaults: {
	            type: 'scatterLine',
	            labels: {
	                visible: false,
	                format: '{0}',
	                background: 'transparent'
	            },
				missingValues: 'gap',
				markers: {
			      visible: true,
				  type: 'circle',
				  size: 3,
			    },
	        },
	        series: chartOptions.series,
	        yAxis: chartOptions.yAxis,
	        xAxis: {
				majorGridLines: {
	                visible: false
	            },
				majorTicks: {
					visible: true
				},
				labels: {
					visible: true,
					rotation: 0,
					template: '#: kendo.toString(new Date(value), "HH:mm") #'
				},
	        },
			tooltip: chartOptions.tooltip
	    }).data('kendoChart');

		// Clear chart
		this._getChartWidget().setDataSource(null);

		// Display chart modal
		$('#clm-chartModal').modal('show');

		// Request detail chart data to server
		this._requestDetailChartData();
	}

	_onChartModalHidden(e)
	{
		// Destroy chart
		this._chartInfo = null;

		$('#clm-chartModalTitle').text('');
		$('#clm-chartNodeAlias').text('');
		$('#clm-chartNodeName').text('');

		this._getChartWidget().destroy();
		this._getChartTag().remove();
	}

	_requestOrchestrationLogs()
	{
		// Build request parameters
		let params = new SFS2X.SFSObject();
		params.putLong('ts', this._lastLogsReqTimestamp);

		// Send request to extension
		this.sendExtensionRequest(this.REQ_GET_LOG_MESSAGES, params);

		// Update last request time
		this._lastLogsReqTimestamp = Date.now();
	}

	//------------------------------------
	// PRIVATE METHODS
	//------------------------------------

	_updateChartedNodes()
	{
		// Get selected nodes not yet shown in the chart area
		let toShow = this._selectedNodes.filter(x => !this._chartedNodes.includes(x));

		// Get nodes shown in the chart area not in the selected list anymore
		let toHide = this._chartedNodes.filter(x => !this._selectedNodes.includes(x));

		// Show nodes charts
		if (toShow.length > 0)
		{
			//console.log("SHOWING CHARTS OF NODES: " + toShow)
			this._chartedNodes = [...this._chartedNodes, ...toShow]; // Merge arrays

			// Display node charts
			for (let id of toShow)
				this._displayNodeChartsItem(id);
		}

		// Hide nodes charts
		if (toHide.length > 0)
		{
			//console.log("HIDING CHARTS OF NODES: " + toHide)
			this._chartedNodes = this._chartedNodes.filter(x => !toHide.includes(x));

			// Remove node charts
			for (let id of toHide)
			{
				this._removeNodeChartsItem(id);

				// Remove detail chart if visible
				if (this._chartInfo && id == this._chartInfo.id)
					$('#clm-chartModal').modal('hide');
			}
		}

		// Show/hide interval dropdown
		if (toShow.length > 0 || toHide.length > 0)
		{
			if (this._chartedNodes.length > 0)
				$('#clm-mainRangeContainer').show();
			else
				$('#clm-mainRangeContainer').hide();
		}

		// Request charts data for newly selected nodes
		// NOTE: we have to use a timeout as a workaround to give charts time to be rendered before drawing them, or they will exceed their container's width
		if (toShow.length > 0)
			setTimeout($.proxy(this._requestNodesData, this), 20, toShow);
	}

	_getTimeSinceJoinTemplate(dataItem)
	{
		let now = moment__WEBPACK_IMPORTED_MODULE_1__();
		let joinTime = moment__WEBPACK_IMPORTED_MODULE_1__(dataItem['joinTime']);

		let diffDays = now.diff(joinTime, 'days');
		let diffHours = now.diff(joinTime, 'hours') - (diffDays * 24);
		let diffMinutes = now.diff(joinTime, 'minutes') - (((diffDays * 24) + diffHours) * 60);

		return `<span>${diffDays}d ${diffHours}h ${diffMinutes}m<span>`;
	}

	_getHealthTemplate(dataItem)
	{
		let style = 'text-success';

		if (!dataItem['health'])
			style = 'text-danger';

		return `<span class="${style}"><i class="fas fa-circle"></i></span>`;
	}

	_getRecyclableTemplate(dataItem)
	{
		let style = dataItem['recyclable'] ? 'text-success' : 'text-light';
		return `<span class="${style}"><i class="fas fa-circle"></i></span>`;
	}

	_getTerminableTemplate(dataItem)
	{
		let style = dataItem['terminable'] ? 'text-success' : 'text-light';
		return `<span class="${style}"><i class="fas fa-circle"></i></span>`;
	}

	_showLobbyState(isActive)
	{
		if (isActive)
		{
			$('#clm-lobbyState .active').show();
			$('#clm-lobbyState .inactive').hide();
		}
		else
		{
			$('#clm-lobbyState .active').hide();
			$('#clm-lobbyState .inactive').show();
		}

		$('#clm-lobbyState').show();

		// Enable/disable scale-up button
		$('#clm-scaleUpBt').prop('disabled', !isActive);
	}

	_requestNodesData(nodes = null)
	{
		if (nodes == null)
			nodes = this._chartedNodes;

		//console.log("REQUESTING DATA FOR NODES " + nodes + " (last " + this.intervals[this._mainRangeDD.value()].minutes + " minutes)")

		if (nodes.length > 0 && this.smartFox.isConnected)
		{
			let i = this._mainRangeDD.value();
			let intervalMillis = this.intervals[i].minutes * 60 * 1000;
			let dataPoints = this.intervals[i].points1;

			// List nodes
			let list = new SFS2X.SFSArray();

			for (let nodeId of nodes)
			{
				let obj = new SFS2X.SFSObject();
				obj.putUtfString('id', nodeId);
				obj.putLong('int', intervalMillis);
				obj.putInt('pts', dataPoints);

				list.addSFSObject(obj);
			}

			// Build request parameters
			let params = new SFS2X.SFSObject();
			params.putSFSArray('nodes', list);

			// Send request to Extension
			this.sendExtensionRequest(this.REQ_GET_NODES_DATA, params);
		}
	}

	_requestDetailChartData()
	{
		if (this._chartInfo)
		{
			let i = this._chartRangeDD.value();

			let params = new SFS2X.SFSObject();
			params.putUtfString('id', this._chartInfo.id);
			params.putUtfString('type', this._chartInfo.type);
			params.putLong('int', this.intervals[i].minutes * 60 * 1000);
			params.putInt('pts', this.intervals[i].points2);

			// Send request to Extension
			this.sendExtensionRequest(this.REQ_GET_CHART_DATA, params);
		}
	}

	_removeNodeChartsItem(nodeId)
	{
		let element = this.querySelector('#clm-nodeMiniChartsContainer #node_' + nodeId);

		// Destroy element
		element.destroy();

		// Remove element from container
		this.querySelector('#clm-nodeMiniChartsContainer').removeChild(element);
	}

	_displayNodeChartsItem(nodeId)
	{
		let nodeDataItem = this._grid.dataSource.get(nodeId);

		// Create element
		let element = new _components_module_specific_cluster_monitor_node_mini_charts__WEBPACK_IMPORTED_MODULE_3__["NodeMiniCharts"](nodeDataItem['id'], nodeDataItem['alias'], nodeDataItem['name']);

		// Append element to container
		this.querySelector('#clm-nodeMiniChartsContainer').appendChild(element);
	}

	_getChartTag()
	{
		return $('#clm-chartModal .chart');
	}

	_getChartWidget()
	{
		return this._getChartTag().data('kendoChart');
	}

	_addDetailChartEntries(data, data1, intervalMillis)
	{
		let lastTimestamp = data.getLong('last');
		let values = data.getLongArray('data');
		let values1 = (data1 != null ? data1.getLongArray('data') : null);
		let chartWidget = this._getChartWidget();

		// Divide interval by the number of data points to calculate their timestamps
		let sliceMillis = Math.round(intervalMillis / values.length);

		let ds = new kendo.data.DataSource();
		let firstTimestamp = lastTimestamp - intervalMillis;

		for (let i = 0; i < values.length; i++)
		{
			let timestamp = firstTimestamp + (sliceMillis * i);

			let value = values[i] < 0 ? null : values[i];
			let value1 = values1 ? (values1[i] < 0 ? null : values1[i]) : null;

			let entry = {
				ts: timestamp,
				val: value,
				val1: value1,
			};

			ds.add(entry);
		}

		// Set chart's x-axis limits
		chartWidget.options.xAxis.min = firstTimestamp;
		chartWidget.options.xAxis.max = lastTimestamp;

		chartWidget.setDataSource(ds);
	}

	_updateDeactivateButton()
	{
		let cnt = this._selectedActiveNodes.length;
		let txt = (cnt > 0 ? cnt : '') + ' node' + (cnt != 1 ? 's' : '');

		$('#clm-deactivateBt').prop('disabled', cnt == 0);
		$('#clm-deactivateNodesNum').text(txt);
	}

	_onDeactivateBtClick()
	{
		this.shellCtrl.showConfirmWarning(`Are you sure you want to deactivate the selected active node${this._selectedActiveNodes.length > 1 ? 's' : ''}? This operation is irreversible.`, $.proxy(this._onDeactivateNodesConfirm, this));
	}

	_onDeactivateNodesConfirm()
	{
		if (this._selectedActiveNodes.length > 0  && this.smartFox.isConnected)
		{
			let params = new SFS2X.SFSObject();
			params.putUtfStringArray('nodes', this._selectedActiveNodes);

			this.sendExtensionRequest(this.REQ_DEACTIVATE_NODES, params);
		}
	}

	_onScaleUpBtClick()
	{
		// Display scale-up modal
		$('#clm-scaleUpModal').modal('show');
	}

	_onScaleUpConfirmBtClick()
	{
		if (this._scaleUpValidator.validate())
		{
			// Retrieve scale-up details
			let params = new SFS2X.SFSObject();
			params.putInt('num', this._numNodesIn.value());

			// Send scale-up request to server
			this.sendExtensionRequest(this.REQ_SCALE_UP, params);

			// Hide modal
			$('#clm-scaleUpModal').modal('hide');
		}
	}

	_onScaleUpModalHidden(e)
	{
		// Reset validator
		this._scaleUpValidator.hideMessages();

		// The method above doesn't remove the k-invalid classes and aria-invalid="true" attributes from inputs
		// Let's do it manually
		$('#clm-scaleUpForm .k-invalid').removeClass('k-invalid');
		$('#clm-scaleUpForm [aria-invalid="true"]').removeAttr('aria-invalid');

		// Reset scale-up form
		this._numNodesIn.value(1);
	}



	//---------------------------------
	// PRIVATE GETTERS
	//---------------------------------


}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXRzL2pzL2NvcmUvbW9kdWxlcy9tb2R1bGUtNS5idW5kbGUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9jb21wb25lbnRzL2NoYXJ0cy9jaGFydC11dGlscy5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9jb21wb25lbnRzL21vZHVsZS1zcGVjaWZpYy9jbHVzdGVyLW1vbml0b3Ivbm9kZS1taW5pLWNoYXJ0cy5qcyIsIndlYnBhY2s6Ly9hcHBsaWNhdGlvbi8uL3NyYy9tb2R1bGVzL2NsdXN0ZXItbW9uaXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2J5dGVzVG9TaXplLCBrQnl0ZXNUb1NpemV9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxpdGllcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlVGltZShkYXRlLCBmb3JtYXQgPSAnZGQgTU1NIEhIOm1tOnNzJylcbntcblx0cmV0dXJuIGtlbmRvLnRvU3RyaW5nKGRhdGUsIGZvcm1hdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNpY1NoYXJlZFRlbXBsYXRlKHZhbHVlRm9ybWF0ID0gJ3swfScpIHtcblx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHQ8ZGl2IGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1jYXRlZ29yeVwiPjxzdHJvbmc+IzogY2F0ZWdvcnkgIzwvc3Ryb25nPjwvZGl2PlxuXHRcdCMgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHsgI1xuXHRcdDxkaXY+XG5cdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1zcXVhcmVcIiBzdHlsZT1cImNvbG9yOiAjOiBwb2ludHNbaV0uY29sb3IgIyBcIj48L2k+XG5cdFx0XHQjOiBwb2ludHNbaV0uc2VyaWVzLm5hbWUjIDogIzoga2VuZG8uZm9ybWF0KCcke3ZhbHVlRm9ybWF0fScsIHBvaW50c1tpXS52YWx1ZSkgI1xuXHRcdDwvZGl2PlxuXHRcdCMgfSAjXG5cdGApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVtb3J5U2hhcmVkVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmJ5dGVzVG9TaXplID0gYnl0ZXNUb1NpemU7IC8vIFBhc3MgYnl0ZXNUb1NpemUgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2hhcnQtdG9vbHRpcC1jYXRlZ29yeVwiPjxzdHJvbmc+IzogY2F0ZWdvcnkgIzwvc3Ryb25nPjwvZGl2PlxuXHRcdFx0IyBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgeyAjXG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1zcXVhcmVcIiBzdHlsZT1cImNvbG9yOiAjOiBwb2ludHNbaV0uY29sb3IgIyBcIj48L2k+XG5cdFx0XHRcdCM6IHBvaW50c1tpXS5zZXJpZXMubmFtZSMgOiAjOiBieXRlc1RvU2l6ZShwb2ludHNbaV0udmFsdWUpICNcblx0XHRcdDwvZGl2PlxuXHRcdFx0IyB9ICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vcnlWYWx1ZUF4aXNMYWJlbFRlbXBsYXRlKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5ieXRlc1RvU2l6ZSA9IGJ5dGVzVG9TaXplOyAvLyBQYXNzIGJ5dGVzVG9TaXplIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0IzogYnl0ZXNUb1NpemUodmFsdWUpICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXR3b3JrU2hhcmVkVGVtcGxhdGUoY2F0ZWdvcnlGb3JtYXQgPSAnZGQgTU1NIEhIOm1tOnNzJykge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5rQnl0ZXNUb1NpemUgPSBrQnl0ZXNUb1NpemU7IC8vIFBhc3Mga0J5dGVzVG9TaXplIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImNoYXJ0LXRvb2x0aXAtY2F0ZWdvcnlcIj48c3Ryb25nPiM6IGtlbmRvLnRvU3RyaW5nKGNhdGVnb3J5LCAnJHtjYXRlZ29yeUZvcm1hdH0nKSAjPC9zdHJvbmc+PC9kaXY+XG5cdFx0XHQjIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7ICNcblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLXNxdWFyZVwiIHN0eWxlPVwiY29sb3I6ICM6IHBvaW50c1tpXS5jb2xvciAjIFwiPjwvaT5cblx0XHRcdFx0IzogcG9pbnRzW2ldLnNlcmllcy5uYW1lIyA6ICM6IGtCeXRlc1RvU2l6ZShwb2ludHNbaV0udmFsdWUsIDEsICcnLCAnL3MnKSAjXG5cdFx0XHQ8L2Rpdj5cblx0XHRcdCMgfSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV0d29ya1ZhbHVlQXhpc0xhYmVsVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmtCeXRlc1RvU2l6ZSA9IGtCeXRlc1RvU2l6ZTsgLy8gUGFzcyBrQnl0ZXNUb1NpemUgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQjOiBrQnl0ZXNUb1NpemUodmFsdWUsIDEsICcnLCAnL3MnKSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV0d29ya1ZhbHVlQXhpc0xhYmVsVGVtcGxhdGVCKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5ieXRlc1RvU2l6ZSA9IGJ5dGVzVG9TaXplOyAvLyBQYXNzIGJ5dGVzVG9TaXplIHV0aWxpdHkgZnVuY3Rpb24gdG8gdGVtcGxhdGVcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0IzogYnl0ZXNUb1NpemUodmFsdWUsIDEsICcnLCAnL3MnKSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckNvdW50U2hhcmVkVGVtcGxhdGUoY2F0ZWdvcnlGb3JtYXQgPSAnZGQgTU1NIEhIOm1tOnNzJykge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0PGRpdiBjbGFzcz1cImNoYXJ0LXRvb2x0aXAtY2F0ZWdvcnlcIj48c3Ryb25nPiM6IGtlbmRvLnRvU3RyaW5nKGNhdGVnb3J5LCAnJHtjYXRlZ29yeUZvcm1hdH0nKSAjPC9zdHJvbmc+PC9kaXY+XG5cdFx0XHQjIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7ICNcblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLXNxdWFyZVwiIHN0eWxlPVwiY29sb3I6ICM6IHBvaW50c1tpXS5jb2xvciAjIFwiPjwvaT5cblx0XHRcdFx0IzogcG9pbnRzW2ldLnNlcmllcy5uYW1lIyA6ICM6IHBvaW50c1tpXS52YWx1ZSAjXG5cdFx0XHQ8L2Rpdj5cblx0XHRcdCMgfSAjXG5cdFx0YCkoZGF0YUl0ZW0pO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZVJhbmdlVG9vbHRpcFRlbXBsYXRlKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRkYXRhSXRlbS5nZXRUb29sdGlwU3RyaW5nID0gZnVuY3Rpb24odjEsIHYyKSB7XG5cdFx0XHRpZiAodjEgPT0gdjIpXG5cdFx0XHR7XG5cdFx0XHRcdGlmICh2MiA9PSAtMjQpXG5cdFx0XHRcdFx0djIgPSAtMjM7XG5cblx0XHRcdFx0djEgPSB2MiAtIDE7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBzdGFydCA9IE1hdGguYWJzKHYxKTtcblx0XHRcdGxldCBlbmQgPSBNYXRoLmFicyh2Mik7XG5cblx0XHRcdHJldHVybiBgRnJvbSAke3N0YXJ0fSBob3VyJHtzdGFydCAhPSAxID8gJ3MnIDogJyd9IGFnbyB0byAke2VuZCA+IDAgPyAoJ3RvICcgKyBlbmQgKyAnIGhvdXInICsgKGVuZCAhPSAxID8gJ3MnIDogJycpICsgJyBhZ28nKSA6ICdub3cnfWA7XG5cdFx0fTsgLy8gUGFzcyB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdCM6IGdldFRvb2x0aXBTdHJpbmcoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCkgI1xuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdSQnl0ZXNMYWJlbFRlbXBsYXRlKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRyZXR1cm4ga2VuZG8udGVtcGxhdGUoYFxuXHRcdFx0IzogdmFsdWUgIyAjOiBkYXRhSXRlbS51bml0ICNcblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNpY1RlbXBsYXRlKHZhbHVlRm9ybWF0ID0gJ3swfScpIHtcblx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHQ8ZGl2PlxuXHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0LW5vd3JhcFwiPiM6IGtlbmRvLnRvU3RyaW5nKG5ldyBEYXRlKHZhbHVlLngpLCBcImRkL01NL3l5IEhIOm1tXCIpICM8L3NwYW4+XG5cdFx0XHQ8YnI+XG5cdFx0XHQ8c3Ryb25nIGNsYXNzPVwidGV4dC1ub3dyYXBcIj4jOiBzZXJpZXMubmFtZSAjOiAjOiBrZW5kby5mb3JtYXQoJyR7dmFsdWVGb3JtYXR9JywgdmFsdWUueSkgIyA8L3N0cm9uZz5cblx0XHQ8L2Rpdj5cblx0YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vcnlUZW1wbGF0ZSgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0ZGF0YUl0ZW0uYnl0ZXNUb1NpemUgPSBieXRlc1RvU2l6ZTsgLy8gUGFzcyBieXRlc1RvU2l6ZSB1dGlsaXR5IGZ1bmN0aW9uIHRvIHRlbXBsYXRlXG5cdFx0cmV0dXJuIGtlbmRvLnRlbXBsYXRlKGBcblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwidGV4dC1ub3dyYXBcIj4jOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZSh2YWx1ZS54KSwgXCJkZC9NTS95eSBISDptbVwiKSAjPC9zcGFuPlxuXHRcdFx0XHQ8YnI+XG5cdFx0XHRcdDxzdHJvbmcgY2xhc3M9XCJ0ZXh0LW5vd3JhcFwiPiM6IHNlcmllcy5uYW1lICM6ICM6IGJ5dGVzVG9TaXplKHZhbHVlLnkpICMgPC9zdHJvbmc+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgKShkYXRhSXRlbSk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXR3b3JrVGVtcGxhdGUoKSB7XG5cdHJldHVybiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdGRhdGFJdGVtLmJ5dGVzVG9TaXplID0gYnl0ZXNUb1NpemU7IC8vIFBhc3MgYnl0ZXNUb1NpemUgdXRpbGl0eSBmdW5jdGlvbiB0byB0ZW1wbGF0ZVxuXHRcdHJldHVybiBrZW5kby50ZW1wbGF0ZShgXG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRleHQtbm93cmFwXCI+Izoga2VuZG8udG9TdHJpbmcobmV3IERhdGUodmFsdWUueCksIFwiZGQvTU0veXkgSEg6bW1cIikgIzwvc3Bhbj5cblx0XHRcdFx0PGJyPlxuXHRcdFx0XHQ8c3Ryb25nIGNsYXNzPVwidGV4dC1ub3dyYXBcIj4jOiBzZXJpZXMubmFtZSAjOiAjOiBieXRlc1RvU2l6ZSh2YWx1ZS55LCAxLCAnJywgJy9zJykgIyA8L3N0cm9uZz5cblx0XHRcdDwvZGl2PlxuXHRcdGApKGRhdGFJdGVtKTtcblx0fTtcbn1cbiIsImltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHtnZXRCYXNpY1RlbXBsYXRlLCBnZXRNZW1vcnlWYWx1ZUF4aXNMYWJlbFRlbXBsYXRlLCBnZXRNZW1vcnlUZW1wbGF0ZSwgZ2V0TmV0d29ya1RlbXBsYXRlLCBnZXROZXR3b3JrVmFsdWVBeGlzTGFiZWxUZW1wbGF0ZUJ9IGZyb20gJy4uLy4uL2NoYXJ0cy9jaGFydC11dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBOb2RlTWluaUNoYXJ0cyBleHRlbmRzIEhUTUxFbGVtZW50XG57XG5cdGNvbnN0cnVjdG9yKG5vZGVJZCwgbm9kZUFsaWFzLCBub2RlTmFtZSlcblx0e1xuXHQgICAgc3VwZXIoKTtcblxuXHRcdGNvbnN0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG5cdFx0c2hhZG93Um9vdC5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cImFzc2V0cy9jc3MvY3VzdG9tLWJvb3RzdHJhcC5taW4uY3NzXCIgLz5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiYXNzZXRzL2Nzcy9rZW5kby5jdXN0b20tYm9vdHN0cmFwLXY0LmNzc1wiIC8+XG5cblx0XHRcdDxzdHlsZT5cblx0XHRcdFx0LmJveCB7XG5cdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcblx0XHRcdFx0XHRib3JkZXItcmFkaXVzOiAuNXJlbTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5jaGFydC1jb250YWluZXIge1xuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHRcdFx0fVxuXHRcdFx0PC9zdHlsZT5cblxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicm93IHB5LTMgYm94XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1zbS02IGNvbC1tZC00IGNvbC1sZy0yIGQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG5cdFx0XHRcdFx0XHQ8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+Tm9kZTwvc21hbGw+XG5cdFx0XHRcdFx0XHQ8c3Ryb25nIGlkPVwiYWxpYXNcIj48L3N0cm9uZz5cblx0XHRcdFx0XHRcdDxzbWFsbCBpZD1cIm5hbWVcIj48L3NtYWxsPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtc20tNiBjb2wtbWQtNCBjb2wtbGctMiB0ZXh0LWNlbnRlciBjaGFydC1jb250YWluZXJcIiBkYXRhLXR5cGU9XCJjY3VcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydFwiPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtc20tNiBjb2wtbWQtNCBjb2wtbGctMiB0ZXh0LWNlbnRlciBjaGFydC1jb250YWluZXJcIiBkYXRhLXR5cGU9XCJjcHVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydFwiPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtc20tNiBjb2wtbWQtNCBjb2wtbGctMiB0ZXh0LWNlbnRlciBjaGFydC1jb250YWluZXJcIiBkYXRhLXR5cGU9XCJtZW1cIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydFwiPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtc20tNiBjb2wtbWQtNCBjb2wtbGctMiB0ZXh0LWNlbnRlciBjaGFydC1jb250YWluZXJcIiBkYXRhLXR5cGU9XCJuZXRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydFwiPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtc20tNiBjb2wtbWQtNCBjb2wtbGctMiB0ZXh0LWNlbnRlciBjaGFydC1jb250YWluZXJcIiBkYXRhLXR5cGU9XCJ0aGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGFydFwiPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cblx0XHR0aGlzLm5JZCA9IG5vZGVJZDtcblx0XHR0aGlzLm5BbGlhcyA9IG5vZGVBbGlhcztcblx0XHR0aGlzLm5OYW1lID0gbm9kZU5hbWU7XG5cblx0XHQvLyBTZXQgdGFnJ3MgaWQgYXR0cmlidXRlXG5cdFx0dGhpcy5pZCA9ICdub2RlXycgKyBub2RlSWQ7XG5cblx0XHRpZiAobm9kZUFsaWFzKVxuXHRcdHtcblx0XHRcdCQoJyNhbGlhcycsIHNoYWRvd1Jvb3QpLnRleHQobm9kZUFsaWFzKTtcblx0XHRcdCQoJyNuYW1lJywgc2hhZG93Um9vdCkudGV4dChub2RlTmFtZSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQkKCcjYWxpYXMnLCBzaGFkb3dSb290KS50ZXh0KG5vZGVOYW1lKTtcblx0XHRcdCQoJyNuYW1lJywgc2hhZG93Um9vdCkuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2dldENoYXJ0RGl2KCdjY3UnKS5rZW5kb0NoYXJ0KHtcblx0XHRcdHRyYW5zaXRpb25zOiBmYWxzZSxcblx0XHRcdGNoYXJ0QXJlYToge1xuXHRcdFx0XHRoZWlnaHQ6IDEyMCxcblx0XHRcdFx0YmFja2dyb3VuZDogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0ICAgIHBhZGRpbmc6MFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXHRcdFx0dGl0bGU6IHtcblx0XHRcdFx0dGV4dDogJ0NvbmN1cnJlbnQgVXNlcnMnLFxuXHRcdFx0XHRmb250OiAnMTJweCBzYW5zLXNlcmlmJyxcblx0XHRcdFx0Y29sb3I6ICcjMjEyNTI5J1xuXHRcdFx0fSxcblx0ICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuXHQgICAgICAgICAgICB0eXBlOiAnc2NhdHRlckxpbmUnLFxuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9Jyxcblx0ICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCdcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWlzc2luZ1ZhbHVlczogJ2dhcCcsXG5cdFx0XHRcdG1hcmtlcnM6IHtcblx0XHRcdCAgICAgIHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHQgIHR5cGU6ICdjaXJjbGUnLFxuXHRcdFx0XHQgIHNpemU6IDIsXG5cdFx0XHQgICAgfSxcblx0XHRcdFx0d2lkdGg6IDJcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogW1xuXHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICB4RmllbGQ6ICd0cycsXG5cdCAgICAgICAgICAgICAgICB5RmllbGQ6ICd2YWwnLFxuXHRcdFx0XHRcdG5hbWU6ICdDQ1UnLFxuXHRcdFx0XHRcdGNvbG9yOiAnIzMzOTlGRidcblx0ICAgICAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB5QXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdFx0XHRcdFx0c3RlcDogMlxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHhBeGlzOiB7XG5cdFx0XHRcdG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdFx0XHR0b29sdGlwOiB7XG5cdFx0XHRcdHZpc2libGU6IHRydWUsXG5cdFx0XHRcdHRlbXBsYXRlOiBnZXRCYXNpY1RlbXBsYXRlKCd7MH0nKSxcblx0XHRcdFx0YmFja2dyb3VuZDogJyNlNGU0ZTQnXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fZ2V0Q2hhcnREaXYoJ2NwdScpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTIwLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHQgICAgcGFkZGluZzowXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdFx0XHR0aXRsZToge1xuXHRcdFx0XHR0ZXh0OiAnQ1BVJyxcblx0XHRcdFx0Zm9udDogJzEycHggc2Fucy1zZXJpZicsXG5cdFx0XHRcdGNvbG9yOiAnIzIxMjUyOSdcblx0XHRcdH0sXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ3NjYXR0ZXJMaW5lJyxcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfSUnLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaXNzaW5nVmFsdWVzOiAnZ2FwJyxcblx0XHRcdFx0bWFya2Vyczoge1xuXHRcdFx0ICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdCAgdHlwZTogJ2NpcmNsZScsXG5cdFx0XHRcdCAgc2l6ZTogMyxcblx0XHRcdCAgICB9LFxuXHRcdFx0XHR3aWR0aDogMlxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIHhGaWVsZDogJ3RzJyxcblx0ICAgICAgICAgICAgICAgIHlGaWVsZDogJ3ZhbCcsXG5cdFx0XHRcdFx0bmFtZTogJ0NQVScsXG5cdFx0XHRcdFx0Y29sb3I6ICcjMzM5OUZGJ1xuXHQgICAgICAgICAgICB9XG5cdFx0XHRdLFxuXHQgICAgICAgIHlBeGlzOiB7XG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9JSdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgbGluZToge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0bWluOiAwLFxuXHQgICAgXHRcdG1heDogMTAwLFxuICAgICAgXHRcdFx0bWFqb3JVbml0OiAyNVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgeEF4aXM6IHtcblx0XHRcdFx0bWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1ham9yVGlja3M6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0dGVtcGxhdGU6IGdldEJhc2ljVGVtcGxhdGUoJ3swfSUnKSxcblx0XHRcdFx0YmFja2dyb3VuZDogJyNlNGU0ZTQnLFxuXHQgICAgICAgIH1cblx0ICAgIH0pLmRhdGEoJ2tlbmRvQ2hhcnQnKTtcblxuXHRcdHRoaXMuX2dldENoYXJ0RGl2KCdtZW0nKS5rZW5kb0NoYXJ0KHtcblx0XHRcdHRyYW5zaXRpb25zOiBmYWxzZSxcblx0XHRcdGNoYXJ0QXJlYToge1xuXHRcdFx0XHRoZWlnaHQ6IDEyMCxcblx0XHRcdFx0YmFja2dyb3VuZDogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0ICAgIHBhZGRpbmc6MFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXHRcdFx0dGl0bGU6IHtcblx0XHRcdFx0dGV4dDogJ01lbW9yeScsXG5cdFx0XHRcdGZvbnQ6ICcxMnB4IHNhbnMtc2VyaWYnLFxuXHRcdFx0XHRjb2xvcjogJyMyMTI1MjknXG5cdFx0XHR9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdzY2F0dGVyTGluZScsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaXNzaW5nVmFsdWVzOiAnZ2FwJyxcblx0XHRcdFx0bWFya2Vyczoge1xuXHRcdFx0ICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdCAgdHlwZTogJ2NpcmNsZScsXG5cdFx0XHRcdCAgc2l6ZTogMyxcblx0XHRcdCAgICB9LFxuXHRcdFx0XHR3aWR0aDogMlxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIHhGaWVsZDogJ3RzJyxcblx0ICAgICAgICAgICAgICAgIHlGaWVsZDogJ3ZhbCcsXG5cdFx0XHRcdFx0bmFtZTogJ01lbW9yeScsXG5cdFx0XHRcdFx0Y29sb3I6ICcjMzM5OUZGJ1xuXHQgICAgICAgICAgICB9XG5cdFx0XHRdLFxuXHQgICAgICAgIHlBeGlzOiB7XG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiAnezB9JyxcbiAgICAgIFx0XHRcdFx0dGVtcGxhdGU6IGdldE1lbW9yeVZhbHVlQXhpc0xhYmVsVGVtcGxhdGUoKSxcblx0XHRcdFx0XHRzdGVwOiAyXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGxpbmU6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pbjogMCxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHhBeGlzOiB7XG5cdFx0XHRcdG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdFx0XHR0b29sdGlwOiB7XG5cdFx0XHRcdHZpc2libGU6IHRydWUsXG5cdFx0XHRcdHRlbXBsYXRlOiBnZXRNZW1vcnlUZW1wbGF0ZSgpLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnI2U0ZTRlNCcsXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fZ2V0Q2hhcnREaXYoJ3RoZCcpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTIwLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHQgICAgcGFkZGluZzowXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdFx0XHR0aXRsZToge1xuXHRcdFx0XHR0ZXh0OiAnVGhyZWFkcycsXG5cdFx0XHRcdGZvbnQ6ICcxMnB4IHNhbnMtc2VyaWYnLFxuXHRcdFx0XHRjb2xvcjogJyMyMTI1MjknXG5cdFx0XHR9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdzY2F0dGVyTGluZScsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaXNzaW5nVmFsdWVzOiAnZ2FwJyxcblx0XHRcdFx0bWFya2Vyczoge1xuXHRcdFx0ICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdCAgdHlwZTogJ2NpcmNsZScsXG5cdFx0XHRcdCAgc2l6ZTogMyxcblx0XHRcdCAgICB9LFxuXHRcdFx0XHR3aWR0aDogMlxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIHhGaWVsZDogJ3RzJyxcblx0ICAgICAgICAgICAgICAgIHlGaWVsZDogJ3ZhbCcsXG5cdFx0XHRcdFx0bmFtZTogJ1RocmVhZHMnLFxuXHRcdFx0XHRcdGNvbG9yOiAnIzMzOTlGRidcblx0ICAgICAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB5QXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdFx0XHRcdFx0c3RlcDogMlxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBsaW5lOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaW46IDBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHhBeGlzOiB7XG5cdFx0XHRcdG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0bGFiZWxzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0fVxuXHQgICAgICAgIH0sXG5cdFx0XHR0b29sdGlwOiB7XG5cdFx0XHRcdHZpc2libGU6IHRydWUsXG5cdFx0XHRcdHRlbXBsYXRlOiBnZXRCYXNpY1RlbXBsYXRlKCd7MH0nKSxcblx0XHRcdFx0YmFja2dyb3VuZDogJyNlNGU0ZTQnXG5cdCAgICAgICAgfVxuXHQgICAgfSkuZGF0YSgna2VuZG9DaGFydCcpO1xuXG5cdFx0dGhpcy5fZ2V0Q2hhcnREaXYoJ25ldCcpLmtlbmRvQ2hhcnQoe1xuXHRcdFx0dHJhbnNpdGlvbnM6IGZhbHNlLFxuXHRcdFx0Y2hhcnRBcmVhOiB7XG5cdFx0XHRcdGhlaWdodDogMTIwLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHQgICAgcGFkZGluZzowXG5cdFx0XHR9LFxuXHQgICAgICAgIGxlZ2VuZDoge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgIH0sXG5cdFx0XHR0aXRsZToge1xuXHRcdFx0XHR0ZXh0OiAnTmV0d29yaycsXG5cdFx0XHRcdGZvbnQ6ICcxMnB4IHNhbnMtc2VyaWYnLFxuXHRcdFx0XHRjb2xvcjogJyMyMTI1MjknXG5cdFx0XHR9LFxuXHQgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG5cdCAgICAgICAgICAgIHR5cGU6ICdzY2F0dGVyTGluZScsXG5cdCAgICAgICAgICAgIGxhYmVsczoge1xuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7MH0nLFxuXHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtaXNzaW5nVmFsdWVzOiAnZ2FwJyxcblx0XHRcdFx0bWFya2Vyczoge1xuXHRcdFx0ICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdCAgdHlwZTogJ2NpcmNsZScsXG5cdFx0XHRcdCAgc2l6ZTogMyxcblx0XHRcdCAgICB9LFxuXHRcdFx0XHR3aWR0aDogMlxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2VyaWVzOiBbXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIHhGaWVsZDogJ3RzJyxcblx0ICAgICAgICAgICAgICAgIHlGaWVsZDogJ3ZhbCcsXG5cdFx0XHRcdFx0bmFtZTogJ05ldHdvcmsgT3V0Jyxcblx0XHRcdFx0XHRjb2xvcjogJyNDQzAwMDAnLFxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICB4RmllbGQ6ICd0cycsXG5cdCAgICAgICAgICAgICAgICB5RmllbGQ6ICd2YWwxJyxcblx0XHRcdFx0XHRuYW1lOiAnTmV0d29yayBJbicsXG5cdFx0XHRcdFx0Y29sb3I6ICcjMDA5OTAwJyxcblx0ICAgICAgICAgICAgfVxuXHRcdFx0XSxcblx0ICAgICAgICB5QXhpczoge1xuXHQgICAgICAgICAgICBsYWJlbHM6IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG4gICAgICBcdFx0XHRcdHRlbXBsYXRlOiBnZXROZXR3b3JrVmFsdWVBeGlzTGFiZWxUZW1wbGF0ZUIoKSxcblx0XHRcdFx0XHRzdGVwOiAyXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGxpbmU6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pbjogMFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgeEF4aXM6IHtcblx0XHRcdFx0bWFqb3JHcmlkTGluZXM6IHtcblx0ICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1ham9yVGlja3M6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IHtcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcblx0XHRcdFx0dGVtcGxhdGU6IGdldE5ldHdvcmtUZW1wbGF0ZSgpLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnI2U0ZTRlNCdcblx0ICAgICAgICB9XG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cblx0XHQvLyBBZGQgY2hhcnQgY29udGFpbmVyIGNsaWNrIGxpc3RlbmVyc1xuXHRcdCQoJy5jaGFydC1jb250YWluZXInLCB0aGlzLnNoYWRvd1Jvb3QpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5fb25DaGFydENvbnRhaW5lckNsaWNrLCB0aGlzKSk7XG5cblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsICQucHJveHkodGhpcy5fb25XaW5kb3dSZXNpemUsIHRoaXMpKTtcblx0XHR0aGlzLl9vbldpbmRvd1Jlc2l6ZSgpO1xuXHR9XG5cblx0X29uV2luZG93UmVzaXplKClcblx0e1xuXHRcdHRoaXMuX2dldENoYXJ0V2lkZ2V0KCdjY3UnKS5yZWRyYXcoKTtcblx0XHR0aGlzLl9nZXRDaGFydFdpZGdldCgnY3B1JykucmVkcmF3KCk7XG5cdFx0dGhpcy5fZ2V0Q2hhcnRXaWRnZXQoJ21lbScpLnJlZHJhdygpO1xuXHRcdHRoaXMuX2dldENoYXJ0V2lkZ2V0KCd0aGQnKS5yZWRyYXcoKTtcblx0XHR0aGlzLl9nZXRDaGFydFdpZGdldCgnbmV0JykucmVkcmF3KCk7XG5cdH1cblxuXHRkZXN0cm95KClcblx0e1xuXHRcdCQod2luZG93KS5vZmYoJ3Jlc2l6ZScpO1xuXHR9XG5cblx0YWRkQ2hhcnRFbnRyaWVzKHR5cGUsIGRhdGEsIGRhdGExLCBpbnRlcnZhbE1pbGxpcylcblx0e1xuXHRcdGxldCBsYXN0VGltZXN0YW1wID0gZGF0YS5nZXRMb25nKCdsYXN0Jyk7XG5cdFx0bGV0IHZhbHVlcyA9IGRhdGEuZ2V0TG9uZ0FycmF5KCdkYXRhJyk7XG5cdFx0bGV0IHZhbHVlczEgPSAoZGF0YTEgIT0gbnVsbCA/IGRhdGExLmdldExvbmdBcnJheSgnZGF0YScpIDogbnVsbCk7XG5cdFx0bGV0IGNoYXJ0V2lkZ2V0ID0gdGhpcy5fZ2V0Q2hhcnRXaWRnZXQodHlwZSk7XG5cblx0XHR0aGlzLl9hZGRDaGFydEVudHJpZXMoY2hhcnRXaWRnZXQsIHZhbHVlcywgdmFsdWVzMSwgaW50ZXJ2YWxNaWxsaXMsIGxhc3RUaW1lc3RhbXApO1xuXHR9XG5cblx0X2FkZENoYXJ0RW50cmllcyhjaGFydFdpZGdldCwgdmFsdWVzLCB2YWx1ZXMxLCBpbnRlcnZhbE1pbGxpcywgbGFzdFRpbWVzdGFtcClcblx0e1xuXHRcdC8vIERpdmlkZSBpbnRlcnZhbCBieSB0aGUgbnVtYmVyIG9mIGRhdGEgcG9pbnRzIHRvIGNhbGN1bGF0ZSB0aGVpciB0aW1lc3RhbXBzXG5cdFx0bGV0IHNsaWNlTWlsbGlzID0gTWF0aC5yb3VuZChpbnRlcnZhbE1pbGxpcyAvIHZhbHVlcy5sZW5ndGgpO1xuXG5cdFx0bGV0IGRzID0gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSgpO1xuXHRcdGxldCBmaXJzdFRpbWVzdGFtcCA9IGxhc3RUaW1lc3RhbXAgLSBpbnRlcnZhbE1pbGxpcztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKVxuXHRcdHtcblx0XHRcdGxldCB0aW1lc3RhbXAgPSBmaXJzdFRpbWVzdGFtcCArIChzbGljZU1pbGxpcyAqIGkpO1xuXG5cdFx0XHRsZXQgdmFsdWUgPSB2YWx1ZXNbaV0gPCAwID8gbnVsbCA6IHZhbHVlc1tpXTtcblx0XHRcdGxldCB2YWx1ZTEgPSB2YWx1ZXMxID8gKHZhbHVlczFbaV0gPCAwID8gbnVsbCA6IHZhbHVlczFbaV0pIDogbnVsbDtcblxuXHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHR0czogdGltZXN0YW1wLFxuXHRcdFx0XHR2YWw6IHZhbHVlLFxuXHRcdFx0XHR2YWwxOiB2YWx1ZTEsXG5cdFx0XHR9O1xuXG5cdFx0XHRkcy5hZGQoZW50cnkpO1xuXHRcdH1cblxuXHRcdC8vIFNldCBjaGFydCdzIHgtYXhpcyBsaW1pdHNcblx0XHRjaGFydFdpZGdldC5vcHRpb25zLnhBeGlzLm1pbiA9IGZpcnN0VGltZXN0YW1wO1xuXHRcdGNoYXJ0V2lkZ2V0Lm9wdGlvbnMueEF4aXMubWF4ID0gbGFzdFRpbWVzdGFtcDtcblxuXHRcdGNoYXJ0V2lkZ2V0LnNldERhdGFTb3VyY2UoZHMpO1xuXHR9XG5cblx0X2dldENoYXJ0RGl2KHR5cGUpXG5cdHtcblx0XHRyZXR1cm4gJCgnLmNoYXJ0LWNvbnRhaW5lcltkYXRhLXR5cGU9XCInICsgdHlwZSArICdcIl0gLmNoYXJ0JywgdGhpcy5zaGFkb3dSb290KTtcblx0fVxuXG5cdF9nZXRDaGFydFdpZGdldCh0eXBlKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX2dldENoYXJ0RGl2KHR5cGUpLmRhdGEoJ2tlbmRvQ2hhcnQnKTtcblx0fVxuXG5cdF9vbkNoYXJ0Q29udGFpbmVyQ2xpY2soZSlcblx0e1xuXHRcdGxldCBjaGFydFR5cGUgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndHlwZScpO1xuXG5cdFx0Ly8gRGlzcGF0Y2ggY3VzdG9tIGV2ZW50XG5cdFx0bGV0IGV2dCA9IG5ldyBDdXN0b21FdmVudCgnY2hhcnRDbGljaycsIHtcblx0ICAgIFx0ZGV0YWlsOiB7XG5cdFx0XHRcdHR5cGU6IGNoYXJ0VHlwZSxcblx0XHRcdFx0bm9kZTogdGhpcy5uSWQsXG5cdFx0XHRcdG9wdGlvbnM6IHRoaXMuX2dldENoYXJ0V2lkZ2V0KGNoYXJ0VHlwZSkub3B0aW9uc1xuXHRcdFx0fSxcblx0XHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0XHRjYW5jZWxhYmxlOiBmYWxzZSxcblx0XHRcdGNvbXBvc2VkOiB0cnVlIC8vIEFsbG93cyBldmVudCB0byBidWJibGUgb3V0c2lkZSBvZiBDdXN0b20gRWxlbWVudFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdH1cbn1cblxuLy8gREVGSU5FIENPTVBPTkVOVFxuaWYgKCF3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdub2RlLW1pbmktY2hhcnRzJykpXG5cdHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ25vZGUtbWluaS1jaGFydHMnLCBOb2RlTWluaUNoYXJ0cyk7XG4iLCJpbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vYmFzZS1tb2R1bGUnO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQge2J5dGVzVG9TaXplLCByb3VuZFRvRGVjaW1hbHN9IGZyb20gJy4uL3V0aWxzL3V0aWxpdGllcyc7XG5pbXBvcnQge05vZGVNaW5pQ2hhcnRzfSBmcm9tICcuLi9jb21wb25lbnRzL21vZHVsZS1zcGVjaWZpYy9jbHVzdGVyLW1vbml0b3Ivbm9kZS1taW5pLWNoYXJ0cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsdXN0ZXJNb25pdG9yIGV4dGVuZHMgQmFzZU1vZHVsZVxue1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0ICAgIHN1cGVyKCdjbHVzdGVyTW9uJyk7XG5cblx0XHR0aGlzLk1BWF9MT0dfU0laRSA9IDEwMDtcblxuXHRcdC8vIE91dGdvaW5nIHJlcXVlc3RzXG5cdFx0dGhpcy5SRVFfR0VUX05PREVTID0gJ2dldE5vZGVzJztcblx0XHR0aGlzLlJFUV9ERUFDVElWQVRFX05PREVTID0gJ2RlYWN0Jztcblx0XHR0aGlzLlJFUV9HRVRfTk9ERVNfREFUQSA9ICdnZXREYXRhTic7XG5cdFx0dGhpcy5SRVFfR0VUX0NIQVJUX0RBVEEgPSAnZ2V0RGF0YUMnO1xuXHRcdHRoaXMuUkVRX1NDQUxFX1VQID0gJ3NjYWxlVXAnO1xuXHRcdHRoaXMuUkVRX0dFVF9MT0dfTUVTU0FHRVMgPSAnZ2V0TG9nJztcblxuXHRcdC8vIEluY29taW5nIHJlc3BvbnNlc1xuXHRcdHRoaXMuUkVTUF9OT0RFUyA9ICdub2Rlcyc7XG5cdFx0dGhpcy5SRVNQX05PREVTX0RBVEEgPSAnZGF0YU4nO1xuXHRcdHRoaXMuUkVTUF9DSEFSVF9EQVRBID0gJ2RhdGFDJztcblx0XHR0aGlzLlJFU1BfTE9HX01FU1NBR0VTID0gJ2xvZyc7XG5cblx0XHR0aGlzLmludGVydmFscyA9IFtcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6ICdMYXN0IGhvdXInLFxuXHRcdFx0XHRtaW51dGVzOiA2MCxcblx0XHRcdFx0cG9pbnRzMTogMzAsXG5cdFx0XHRcdHBvaW50czI6IDMwLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGFiZWw6ICdMYXN0IDMgaG91cnMnLFxuXHRcdFx0XHRtaW51dGVzOiAxODAsXG5cdFx0XHRcdHBvaW50czE6IDMwLFxuXHRcdFx0XHRwb2ludHMyOiA5MCxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiAnTGFzdCAxMiBob3VycycsXG5cdFx0XHRcdG1pbnV0ZXM6IDcyMCxcblx0XHRcdFx0cG9pbnRzMTogMzAsXG5cdFx0XHRcdHBvaW50czI6IDE4MCxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxhYmVsOiAnTGFzdCAyNCBob3VycycsXG5cdFx0XHRcdG1pbnV0ZXM6IDE0NDAsXG5cdFx0XHRcdHBvaW50czE6IDMwLFxuXHRcdFx0XHRwb2ludHMyOiAzNjAsXG5cdFx0XHR9LFxuXHRcdF1cblxuXHRcdHRoaXMuX3NlbGVjdGVkTm9kZXMgPSBbXTtcblx0XHR0aGlzLl9zZWxlY3RlZEFjdGl2ZU5vZGVzID0gW107XG5cdFx0dGhpcy5fY2hhcnRlZE5vZGVzID0gW107XG5cdFx0dGhpcy5fY2hhcnRJbmZvID0gbnVsbDtcblx0XHR0aGlzLl9sYXN0TG9nc1JlcVRpbWVzdGFtcCA9IDA7XG5cdH1cblxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBDT01NT04gTU9EVUxFIElOVEVSRkFDRSBNRVRIT0RTXG5cdC8vIFRoaXMgbWVtYmVycyBhcmUgdXNlZCBieSB0aGUgbWFpbiBjb250cm9sbGVyXG5cdC8vIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIG1vZHVsZSdzIGNvbnRyb2xsZXIuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0aW5pdGlhbGl6ZShpZERhdGEsIHNoZWxsQ29udHJvbGxlcilcblx0e1xuXHRcdC8vIENhbGwgc3VwZXIgbWV0aG9kXG5cdFx0c3VwZXIuaW5pdGlhbGl6ZShpZERhdGEsIHNoZWxsQ29udHJvbGxlcik7XG5cblx0XHQvLyBJbml0aWFsaXplIHNjcm9sbGluZyB0YWJzXG5cdFx0JCgnI2NsbS10YWJOYXZpZ2F0b3IgPiAjdGFicycpLnNjcm9sbGluZ1RhYnMoe1xuXHRcdFx0Ym9vdHN0cmFwVmVyc2lvbjogNCxcblx0XHRcdHNjcm9sbFRvVGFiRWRnZTogdHJ1ZSxcblx0XHRcdGVuYWJsZVN3aXBpbmc6IHRydWUsXG5cdFx0XHRkaXNhYmxlU2Nyb2xsQXJyb3dzT25GdWxseVNjcm9sbGVkOiB0cnVlLFxuXHRcdFx0Y3NzQ2xhc3NMZWZ0QXJyb3c6ICdmYSBmYS1jaGV2cm9uLWxlZnQnLFxuXHRcdFx0Y3NzQ2xhc3NSaWdodEFycm93OiAnZmEgZmEtY2hldnJvbi1yaWdodCdcblx0XHR9KTtcblxuXHRcdC8vIEluaXRpYWxpemUgYnV0dG9uc1xuXHRcdCQoJyNjbG0tZGVhY3RpdmF0ZUJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vbkRlYWN0aXZhdGVCdENsaWNrLCB0aGlzKSk7XG5cdFx0JCgnI2NsbS1zY2FsZVVwQnQnKS5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuX29uU2NhbGVVcEJ0Q2xpY2ssIHRoaXMpKTtcblx0XHQkKCcjY2xtLXNjYWxlVXBNb2RhbEJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9vblNjYWxlVXBDb25maXJtQnRDbGljaywgdGhpcykpO1xuXHRcdCQoJyNjbG0tcmVmcmVzaEJ0Jykub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLl9yZXF1ZXN0Tm9kZXNMaXN0LCB0aGlzKSk7XG5cblx0XHQvLyBJbml0aWFsaXplIGdyaWRcblx0XHR0aGlzLl9ncmlkID0gJCgnI2NsbS1ub2Rlc0xpc3QnKS5rZW5kb0dyaWQoe1xuXHRcdFx0c2Nyb2xsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLFxuXHRcdFx0Ly9yZXNpemFibGU6IHRydWUsXG5cdFx0XHRzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbHVtbnM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0d2lkdGg6IDQxXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIGZpZWxkOiAnbmFtZScsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogMjUwLFxuXHRcdFx0XHRcdHRpdGxlOiAnTm9kZScsXG5cdFx0XHRcdFx0dGVtcGxhdGU6IGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGF0YUl0ZW1bJ2FsaWFzJ10pXG5cdFx0XHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm5hbWUtY2VsbFwiPjxzcGFuPicgKyBkYXRhSXRlbVsnYWxpYXMnXSArICc8L3NwYW4+IDxhIGhyZWY9XCJodHRwOi8vJyArIGRhdGFJdGVtWyduYW1lJ10gKyAnOjgwODAvYWRtaW5cIiBjbGFzcz1cIm5hbWUtYWRtaW4tbGlua1wiIHRhcmdldD1cIl9ibGFua1wiPjxpIGNsYXNzPVwiZmFzIGZhLXRvb2xib3hcIj48L2k+PC9hPjxicj48c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JyArIGRhdGFJdGVtWyduYW1lJ10gKyAnPHNtYWxsPjwvZGl2Pic7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm5hbWUtY2VsbFwiPjxzcGFuPicgKyBkYXRhSXRlbVsnbmFtZSddICsgJzwvc3Bhbj4gPGEgaHJlZj1cImh0dHA6Ly8nICsgZGF0YUl0ZW1bJ25hbWUnXSArICc6ODA4MC9hZG1pblwiIGNsYXNzPVwibmFtZS1hZG1pbi1saW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGkgY2xhc3M9XCJmYXMgZmEtdG9vbGJveFwiPjwvaT48L2E+PC9kaXY+Jztcblx0XHRcdFx0XHR9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIGZpZWxkOiAnY2N1Jyxcblx0ICAgICAgICAgICAgICAgIHdpZHRoOiA4MCxcblx0ICAgICAgICAgICAgICAgIHRpdGxlOiAnQ0NVJyxcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgZmllbGQ6ICdjcHUnLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IDgwLFxuXHQgICAgICAgICAgICAgICAgdGl0bGU6ICdDUFUnLFxuXHRcdFx0XHRcdHRlbXBsYXRlOiBmdW5jdGlvbihkYXRhSXRlbSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJvdW5kVG9EZWNpbWFscyhkYXRhSXRlbVsnY3B1J10sIDIpICsgJyUnO1xuXHRcdFx0XHRcdH1cblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0e1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ01lbW9yeScsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtcblx0XHRcdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICd1c2VkTWVtJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcblx0XHRcdFx0XHRcdFx0dGl0bGU6ICdVc2VkJyxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6IGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGJ5dGVzVG9TaXplKGRhdGFJdGVtWyd1c2VkTWVtJ10pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XHRcdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6ICdhbGxvY01lbScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiAnQWxsb2NhdGVkJyxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6IGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGJ5dGVzVG9TaXplKGRhdGFJdGVtWydhbGxvY01lbSddKTtcblx0XHRcdFx0XHRcdFx0fVxuICAgICAgICAgICAgICAgICAgICBcdH1cblx0XHRcdFx0XHRdXG4gICAgICAgICAgICAgICAgfSxcblx0XHRcdFx0e1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05ldHdvcmsnLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXG5cdFx0XHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnbmV0SW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwLFxuXHRcdFx0XHRcdFx0XHR0aXRsZTogJ0luJyxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6IGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChkYXRhSXRlbVsnbmV0SW4nXSA+IC0xID8gYnl0ZXNUb1NpemUoZGF0YUl0ZW1bJ25ldEluJ10sIDIsICdLQicsICcvcycpIDogJyZuZGFzaDsnKTtcblx0XHRcdFx0XHRcdFx0fVxuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFx0XHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnbmV0T3V0Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcblx0XHRcdFx0XHRcdFx0dGl0bGU6ICdPdXQnLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogZnVuY3Rpb24oZGF0YUl0ZW0pIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKGRhdGFJdGVtWyduZXRPdXQnXSA+IC0xID8gYnl0ZXNUb1NpemUoZGF0YUl0ZW1bJ25ldE91dCddLCAyLCAnS0InLCAnL3MnKSA6ICcmbmRhc2g7Jyk7XG5cdFx0XHRcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICAgICAgXHR9XG5cdFx0XHRcdFx0XVxuICAgICAgICAgICAgICAgIH0sXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIGZpZWxkOiAndGhyZWFkcycsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogMTAwLFxuXHRcdFx0XHRcdHRpdGxlOiAnVGhyZWFkcycsXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdHtcblx0ICAgICAgICAgICAgICAgIGZpZWxkOiAncm9vbXMnLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcblx0XHRcdFx0XHR0aXRsZTogJ1Jvb21zJyxcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0e1xuXHQgICAgICAgICAgICAgICAgZmllbGQ6ICdqb2luVGltZScsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogMTAwLFxuXHRcdFx0XHRcdHRpdGxlOiAnSm9pbmVkJyxcblx0XHRcdFx0XHRzb3J0YWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0dGVtcGxhdGU6ICQucHJveHkodGhpcy5fZ2V0VGltZVNpbmNlSm9pblRlbXBsYXRlLCB0aGlzKVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICBmaWVsZDogJ2hlYWx0aCcsXG5cdCAgICAgICAgICAgICAgICB3aWR0aDogNzUsXG5cdFx0XHRcdFx0dGl0bGU6ICdIZWFsdGgnLFxuXHRcdFx0XHRcdHNvcnRhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogJC5wcm94eSh0aGlzLl9nZXRIZWFsdGhUZW1wbGF0ZSwgdGhpcylcblx0ICAgICAgICAgICAgfSxcblx0XHRcdFx0e1xuXHQgICAgICAgICAgICAgICAgZmllbGQ6ICdyZWN5Y2xhYmxlJyxcblx0ICAgICAgICAgICAgICAgIHdpZHRoOiA0NSxcblx0XHRcdFx0XHR0aXRsZTogJ1IuJyxcblx0XHRcdFx0XHRzb3J0YWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0dGVtcGxhdGU6ICQucHJveHkodGhpcy5fZ2V0UmVjeWNsYWJsZVRlbXBsYXRlLCB0aGlzKVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHR7XG5cdCAgICAgICAgICAgICAgICBmaWVsZDogJ3Rlcm1pbmFibGUnLFxuXHQgICAgICAgICAgICAgICAgd2lkdGg6IDQ1LFxuXHRcdFx0XHRcdHRpdGxlOiAnVC4nLFxuXHRcdFx0XHRcdHNvcnRhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogJC5wcm94eSh0aGlzLl9nZXRUZXJtaW5hYmxlVGVtcGxhdGUsIHRoaXMpXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRdLFxuXHRcdFx0bm9SZWNvcmRzOiB7XG5cdFx0XHRcdHRlbXBsYXRlOiAnTm8gZ2FtZSBub2Rlcy4nXG5cdFx0XHR9LFxuXHRcdFx0ZGF0YVNvdXJjZToge1xuXHRcdFx0XHRzY2hlbWE6IHtcblx0XHRcdFx0XHRtb2RlbDoge1xuXHRcdFx0XHRcdFx0aWQ6ICdpZCcsXG5cdFx0XHRcdFx0XHQvLyBmaWVsZHM6IHtcblx0XHRcdFx0XHRcdC8vIFx0aWQ6IHsgdHlwZTogJ3N0cmluZycgfSxcblx0XHRcdFx0XHRcdC8vIFx0YWN0aXZlOiB7IHR5cGU6ICdib29sZWFuJyB9XG5cdFx0XHRcdFx0XHQvLyB9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRncm91cDoge1xuXHRcdFx0XHRcdGZpZWxkOiAnYWN0aXZlJyxcblx0XHRcdFx0XHRkaXI6ICdkZXNjJyxcblx0XHRcdFx0fVxuICAgICAgICAgICAgfSxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vbk5vZGVzR3JpZENoYW5nZSwgdGhpcyksXG5cdFx0XHRkYXRhQm91bmQ6ICQucHJveHkodGhpcy5fb25Ob2Rlc0dyaWREYXRhQm91bmQsIHRoaXMpLFxuICAgICAgICB9KS5kYXRhKCdrZW5kb0dyaWQnKTtcblxuXHRcdC8vIEFkZCBsaXN0ZW5lciB0byBtaW5pIGNoYXJ0cyBjb250YWluZXJcblx0XHQkKCcjY2xtLW5vZGVNaW5pQ2hhcnRzQ29udGFpbmVyJykub24oJ2NoYXJ0Q2xpY2snLCAkLnByb3h5KHRoaXMuX29uTWluaUNoYXJ0Q2xpY2ssIHRoaXMpKTtcblxuXHRcdC8vIENvbmZpZ3VyZSBkZXRhaWwgY2hhcnQgbW9kYWxcblx0XHQkKCcjY2xtLWNoYXJ0TW9kYWwnKS5tb2RhbCh7XG5cdFx0XHRiYWNrZHJvcDogJ3N0YXRpYycsXG5cdFx0XHRrZXlib2FyZDogZmFsc2UsXG5cdFx0XHRzaG93OiBmYWxzZSxcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgbW9kYWwgaGlkZGVuIGV2ZW50XG5cdFx0JCgnI2NsbS1jaGFydE1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsICQucHJveHkodGhpcy5fb25DaGFydE1vZGFsSGlkZGVuLCB0aGlzKSk7XG5cblx0XHQvLyBJbml0aWFsaXplIGRhdGEgaW50ZXJ2YWwgZHJvcGRvd25zXG5cdFx0bGV0IGl0ZW1zID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmludGVydmFscy5sZW5ndGg7IGkrKylcblx0XHRcdGl0ZW1zLnB1c2goe2xhYmVsOnRoaXMuaW50ZXJ2YWxzW2ldLmxhYmVsLCB2YWx1ZTppfSk7XG5cblx0XHR0aGlzLl9tYWluUmFuZ2VERCA9ICQoJyNjbG0tbWFpblJhbmdlREQnKS5rZW5kb0Ryb3BEb3duTGlzdCh7XG5cdFx0XHRkYXRhVGV4dEZpZWxkOiAnbGFiZWwnLFxuXHRcdFx0ZGF0YVZhbHVlRmllbGQ6ICd2YWx1ZScsXG5cdFx0XHRkYXRhU291cmNlOiBpdGVtcyxcblx0XHRcdGluZGV4OiAwLFxuXHRcdFx0Ly92YWx1ZVRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkIHByLTFcIj5MYXN0IDwvc3Bhbj48c3Bhbj4jOmRhdGEudGV4dCM8L3NwYW4+Jyxcblx0XHRcdGNoYW5nZTogJC5wcm94eSh0aGlzLl9vbk1haW5SYW5nZUNoYW5nZSwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0JCgnI2NsbS1tYWluUmFuZ2VDb250YWluZXInKS5oaWRlKCk7XG5cblx0XHR0aGlzLl9jaGFydFJhbmdlREQgPSAkKCcjY2xtLWNoYXJ0UmFuZ2VERCcpLmtlbmRvRHJvcERvd25MaXN0KHtcblx0XHRcdGRhdGFUZXh0RmllbGQ6ICdsYWJlbCcsXG5cdFx0XHRkYXRhVmFsdWVGaWVsZDogJ3ZhbHVlJyxcblx0XHRcdGRhdGFTb3VyY2U6IGl0ZW1zLFxuXHRcdFx0aW5kZXg6IDAsXG5cdFx0XHQvL3ZhbHVlVGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWQgcHItMVwiPkxhc3QgPC9zcGFuPjxzcGFuPiM6ZGF0YS50ZXh0Izwvc3Bhbj4nLFxuXHRcdFx0Y2hhbmdlOiAkLnByb3h5KHRoaXMuX29uQ2hhcnRSYW5nZUNoYW5nZSwgdGhpcylcblx0XHR9KS5kYXRhKCdrZW5kb0Ryb3BEb3duTGlzdCcpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBsb2JieSBzdGF0ZSBpbmZvXG5cdFx0JCgnI2NsbS1sb2JieVN0YXRlJykuaGlkZSgpO1xuXG5cdFx0Ly8gQ29uZmlndXJlIHNjYWxlLXVwIG1vZGFsXG5cdFx0JCgnI2NsbS1zY2FsZVVwTW9kYWwnKS5tb2RhbCh7XG5cdFx0XHRiYWNrZHJvcDogJ3N0YXRpYycsXG5cdFx0XHRrZXlib2FyZDogZmFsc2UsXG5cdFx0XHRzaG93OiBmYWxzZSxcblx0XHR9KTtcblxuXHRcdC8vIEluaXQgbm9kZXMnIG51bWJlciBudW1lcmljIHN0ZXBwZXIgaW4gc2NhbGUtdXAgbW9kYWxcblx0XHR0aGlzLl9udW1Ob2Rlc0luID0gJCgnI2NsbS1udW1Ob2Rlc05TJykua2VuZG9OdW1lcmljVGV4dEJveCh7XG5cdFx0ICAgIG1pbjogMSxcblx0XHRcdG1heDogNSxcblx0XHQgICAgc3RlcDogMSxcblx0XHQgICAgZm9ybWF0OiAnIydcblx0XHR9KS5kYXRhKCdrZW5kb051bWVyaWNUZXh0Qm94Jyk7XG5cblx0XHQvLyBJbml0aWFsaXplIGtlbmRvIHZhbGlkYXRpb24gb24gc2NhbGUtdXAgZm9ybVxuXHRcdHRoaXMuX3NjYWxlVXBWYWxpZGF0b3IgPSAkKCcjY2xtLXNjYWxlVXBGb3JtJykua2VuZG9WYWxpZGF0b3Ioe30pLmRhdGEoJ2tlbmRvVmFsaWRhdG9yJyk7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXIgZm9yIHNjYWxlLXVwIHBhbmVsIGhpZGVcblx0XHQkKCcjY2xtLXNjYWxlVXBNb2RhbCcpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAkLnByb3h5KHRoaXMuX29uU2NhbGVVcE1vZGFsSGlkZGVuLCB0aGlzKSk7XG5cblx0XHQvLyBJbml0aWFsaXplIG9yY2hlc3RyYXRpb24gbG9nIGdyaWRcblx0XHR0aGlzLl9sb2dHcmlkID0gJCgnI2NsbS1sb2dHcmlkJykua2VuZG9HcmlkKHtcblx0XHRcdGRhdGFTb3VyY2U6IFtdLFxuXHRcdFx0cmVzaXphYmxlOiB0cnVlLFxuXHRcdFx0c2VsZWN0YWJsZTogZmFsc2UsXG5cdFx0XHRub1JlY29yZHM6IHtcblx0XHRcdFx0dGVtcGxhdGU6ICdObyBlbnRyaWVzLidcblx0XHRcdH0sXG5cdFx0XHRjb2x1bW5zOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaWVsZDogJ3RpbWVzdGFtcCcsXG5cdFx0XHRcdFx0dGl0bGU6ICdUaW1lc3RhbXAnLFxuXHRcdFx0XHRcdHdpZHRoOiAxODBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbGV2ZWwnLFxuXHRcdFx0XHRcdHRpdGxlOiAnTGV2ZWwnLFxuXHRcdFx0XHRcdHdpZHRoOiAxMDBcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpZWxkOiAnbWVzc2FnZScsXG5cdFx0XHRcdFx0dGl0bGU6ICdNZXNzYWdlJyxcblx0XHRcdFx0XHR3aWR0aDogNDAwXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0ZGF0YUJvdW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdCAgICB0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMudGJvZHkuaGVpZ2h0KCkpOyAvLyBTY3JvbGwgdG8gYm90dG9tXG5cdFx0XHR9XG5cdFx0fSkuZGF0YSgna2VuZG9HcmlkJyk7XG5cblx0XHQkKCcjY2xtX21heExvZ01zZ3MnKS50ZXh0KHRoaXMuTUFYX0xPR19TSVpFKTtcblxuXHRcdC8vIEluaXRpYWxpemUgaGVscCB0b29sdGlwc1xuXHRcdCQodGhpcykua2VuZG9Ub29sdGlwKHtcblx0XHRcdGZpbHRlcjogJ2lbdGl0bGVdLmhlbHAnLFxuXHRcdFx0cG9zaXRpb246ICdyaWdodCcsXG5cdFx0XHRjb250ZW50OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHJldHVybiBgPGRpdiBjbGFzcz1cImhlbHAtdG9vbHRpcFwiPiR7ZS50YXJnZXQuZGF0YSgndGl0bGUnKX08L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHQvLyBSZXF1ZXN0IG5vZGVzIGxpc3QgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdE5vZGVzTGlzdCgpO1xuXG5cdFx0Ly8gU2NoZWR1bGUgY29udGludW91cyBkYXRhIHJlcXVlc3QgZm9yIHRoZSBzZWxlY3RlZCBub2Rlc1xuXHRcdHRoaXMuX3JlcXVlc3REYXRhVGltZXIgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMuX29uUmVxdWVzdERhdGFJbnRlcnZhbCwgdGhpcyksIDYwMDAwKTsgLy8gMSBtaW51dGVcblxuXHRcdC8vIFJlcXVlc3Qgb3JjaGVzdHJhdGlvbiBsb2dzIHRvIHNlcnZlclxuXHRcdHRoaXMuX3JlcXVlc3RPcmNoZXN0cmF0aW9uTG9ncygpO1xuXG5cdFx0Ly8gU2NoZWR1bGUgY29udGludW91cyBvcmNoZXN0cmF0aW9uIGxvZ3MgcmVxdWVzdFxuXHRcdHRoaXMuX3JlcXVlc3RMb2dzVGltZXIgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMuX3JlcXVlc3RPcmNoZXN0cmF0aW9uTG9ncywgdGhpcyksIDMwMDApOyAvLyAzIHNlY29uZHNcblx0fVxuXG5cdGRlc3Ryb3koKVxuXHR7XG5cdFx0Ly8gQ2FsbCBzdXBlciBtZXRob2Rcblx0XHRzdXBlci5kZXN0cm95KCk7XG5cblx0XHQvLyBEZXN0cm95IHNjcm9sbGluZyB0YWJzXG5cdFx0JCgnI2NsbS10YWJOYXZpZ2F0b3IgI3RhYnMnKS5zY3JvbGxpbmdUYWJzKCdkZXN0cm95Jyk7XG5cblx0XHQvLyBIaWRlIG1vZGFsc1xuXHRcdCQoJyNjbG0tY2hhcnRNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG5cdFx0JCgnI2NsbS1zY2FsZVVwTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuXG5cdFx0Ly8gUmVtb3ZlIGNsaWNrIGxpc3RlbmVyc1xuXHRcdCQoJyNjbG0tcmVmcmVzaEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyNjbG0tc2NhbGVVcEJ0Jykub2ZmKCdjbGljaycpO1xuXHRcdCQoJyNjbG0tc2NhbGVVcE1vZGFsQnQnKS5vZmYoJ2NsaWNrJyk7XG5cdFx0JCgnI2NsbS1ub2RlTWluaUNoYXJ0c0NvbnRhaW5lcicpLm9mZignY2hhcnRDbGljaycpO1xuXG5cdFx0Ly8gUmVtb3ZlIHNjYWxlLXVwIHBhbmVsIGxpc3RlbmVyXG5cdFx0JCgnI2NsbS1zY2FsZVVwTW9kYWwnKS5vZmYoJ2hpZGRlbi5icy5tb2RhbCcpO1xuXG5cdFx0Ly8gQ2xlYXIgbm9kZXMsIGRhdGEgYW5kIGxvZ3MgcmVxdWVzdCBzY2hlZHVsaW5nXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3JlcXVlc3ROb2Rlc1RpbWVyKTtcblx0XHRjbGVhckludGVydmFsKHRoaXMuX3JlcXVlc3REYXRhVGltZXIpO1xuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5fcmVxdWVzdExvZ3NUaW1lcik7XG5cdH1cblxuXHRvbkV4dGVuc2lvbkNvbW1hbmQoY29tbWFuZCwgZGF0YSlcblx0e1xuXHRcdGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9OT0RFUylcblx0XHR7XG5cdFx0XHRsZXQgbm9kZXNPYmogPSBkYXRhLmdldFNGU0FycmF5KCdub2RlcycpO1xuXG5cdFx0XHRsZXQgbm9kZXMgPSBbXTtcblx0XHRcdGxldCBub2Rlc0lkcyA9IFtdO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzT2JqLnNpemUoKTsgaSsrKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgbm9kZSA9IG5vZGVzT2JqLmdldFNGU0FycmF5KGkpO1xuXG5cdFx0XHRcdG5vZGVzSWRzLnB1c2gobm9kZS5nZXRVdGZTdHJpbmcoMCkpO1xuXG5cdFx0XHRcdG5vZGVzLnB1c2goe1xuXHRcdFx0XHRcdCdpZCc6IG5vZGUuZ2V0VXRmU3RyaW5nKDApLFxuXHRcdFx0XHRcdCdhbGlhcyc6IG5vZGUuZ2V0VXRmU3RyaW5nKDEpLCAvLyBTZXQgaW4gbm9kZSBjb25maWd1cmF0aW9uLCBidXQgY2FuJ3QgYmUgZWRpdGVkIC0gY291bGQgYmUgcmVtb3ZlZFxuXHRcdFx0XHRcdCduYW1lJzogbm9kZS5nZXRVdGZTdHJpbmcoMiksIC8vIElQIGFkZHJlc3Mgb3IgZG9tYWluIG5hbWVcblx0XHRcdFx0XHQncm9vbXMnOiBub2RlLmdldEludCgzKSxcblx0XHRcdFx0XHQnY2N1Jzogbm9kZS5nZXRJbnQoNCksXG5cdFx0XHRcdFx0J3RocmVhZHMnOiBub2RlLmdldEludCg1KSxcblx0XHRcdFx0XHQnY3B1Jzogbm9kZS5nZXREb3VibGUoNiksXG5cdFx0XHRcdFx0J3VzZWRNZW0nOiBub2RlLmdldExvbmcoNyksXG5cdFx0XHRcdFx0J2FsbG9jTWVtJzogbm9kZS5nZXRMb25nKDgpLFxuXHRcdFx0XHRcdCduZXRJbic6IG5vZGUuZ2V0TG9uZyg5KSxcblx0XHRcdFx0XHQnbmV0T3V0Jzogbm9kZS5nZXRMb25nKDEwKSxcblx0XHRcdFx0XHQnam9pblRpbWUnOiBub2RlLmdldExvbmcoMTEpLFxuXHRcdFx0XHRcdCdoZWFsdGgnOiBub2RlLmdldEJvb2woMTIpLFxuXHRcdFx0XHRcdCdhY3RpdmUnOiBub2RlLmdldEJvb2woMTMpLCAvLyBVc2VkIGZvciBncm91cGluZ1xuXHRcdFx0XHRcdCdyZWN5Y2xhYmxlJzogbm9kZS5nZXRCb29sKDE0KSxcblx0XHRcdFx0XHQndGVybWluYWJsZSc6IG5vZGUuZ2V0Qm9vbCgxNSksXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBHZXQgbm9kZXMgZ3JpZCBkYXRhc291cmNlXG5cdFx0XHRsZXQgZHMgPSB0aGlzLl9ncmlkLmRhdGFTb3VyY2U7XG5cblx0XHRcdC8vIC0tLSBSRU1PVkUgTk9ERVMgLS0tXG5cblx0XHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRcdCQubWFwKGRzLmRhdGEoKSwgZnVuY3Rpb24gKGRhdGFJdGVtLCBpbmRleCkge1xuXHRcdFx0XHRpZiAoZGF0YUl0ZW0gJiYgIW5vZGVzSWRzLmluY2x1ZGVzKGRhdGFJdGVtWydpZCddKSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFJlbW92ZSBub2RlIGZyb20gZGF0YXN0b3JlXG5cdFx0XHRcdFx0ZHMucmVtb3ZlKGRhdGFJdGVtKTtcblxuXHRcdFx0XHRcdC8vIFJlbW92ZSBub2RlIGZyb20gbGlzdCBvZiBzZWxlY3RlZCBub2RlcyAoaWYgc2VsZWN0ZWQpXG5cdFx0XHRcdFx0c2VsZi5fc2VsZWN0ZWROb2RlcyA9IHNlbGYuX3NlbGVjdGVkTm9kZXMuZmlsdGVyKHggPT4geCAhPT0gZGF0YUl0ZW1bJ2lkJ10pO1xuXHRcdFx0XHRcdHNlbGYuX3NlbGVjdGVkQWN0aXZlTm9kZXMgPSBzZWxmLl9zZWxlY3RlZEFjdGl2ZU5vZGVzLmZpbHRlcih4ID0+IHggIT09IGRhdGFJdGVtWydpZCddKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFVwZGF0ZSBub2RlcyBjaGFydHMgdmlldyBhbmQgbm9kZXMgZGVhY3RpdmF0ZSBidXR0b24sIGluIGNhc2UgYSBzZWxlY3RlZCBub2RlIHdhcyByZW1vdmVkXG5cdFx0XHR0aGlzLl91cGRhdGVDaGFydGVkTm9kZXMoKTtcblx0XHRcdHRoaXMuX3VwZGF0ZURlYWN0aXZhdGVCdXR0b24oKTtcblxuXHRcdFx0Ly8gLS0tIEFERC9VUERBVEUgTk9ERVMgLS0tXG5cblx0XHRcdGxldCBhY3RpdmVOb2Rlc0NudCA9IDA7XG5cblx0XHRcdGZvciAobGV0IG5vZGUgb2Ygbm9kZXMpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBkYXRhSXRlbSA9IGRzLmdldChub2RlLmlkKTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgbm9kZVxuXHRcdFx0XHRpZiAoZGF0YUl0ZW0pXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRkYXRhSXRlbS5zZXQoJ3Jvb21zJywgbm9kZS5yb29tcyk7XG5cdFx0XHRcdFx0ZGF0YUl0ZW0uc2V0KCdjY3UnLCBub2RlLmNjdSk7XG5cdFx0XHRcdFx0ZGF0YUl0ZW0uc2V0KCd0aHJlYWRzJywgbm9kZS50aHJlYWRzKTtcblx0XHRcdFx0XHRkYXRhSXRlbS5zZXQoJ2NwdScsIG5vZGUuY3B1KTtcblx0XHRcdFx0XHRkYXRhSXRlbS5zZXQoJ3VzZWRNZW0nLCBub2RlLnVzZWRNZW0pO1xuXHRcdFx0XHRcdGRhdGFJdGVtLnNldCgnYWxsb2NNZW0nLCBub2RlLmFsbG9jTWVtKTtcblx0XHRcdFx0XHRkYXRhSXRlbS5zZXQoJ25ldEluJywgbm9kZS5uZXRJbik7XG5cdFx0XHRcdFx0ZGF0YUl0ZW0uc2V0KCduZXRPdXQnLCBub2RlLm5ldE91dCk7XG5cdFx0XHRcdFx0ZGF0YUl0ZW0uc2V0KCdqb2luVGltZScsIG5vZGUuam9pblRpbWUpO1xuXHRcdFx0XHRcdGRhdGFJdGVtLnNldCgnaGVhbHRoJywgbm9kZS5oZWFsdGgpO1xuXHRcdFx0XHRcdGRhdGFJdGVtLnNldCgnYWN0aXZlJywgbm9kZS5hY3RpdmUpO1xuXHRcdFx0XHRcdGRhdGFJdGVtLnNldCgncmVjeWNsYWJsZScsIG5vZGUucmVjeWNsYWJsZSk7XG5cdFx0XHRcdFx0ZGF0YUl0ZW0uc2V0KCd0ZXJtaW5hYmxlJywgbm9kZS50ZXJtaW5hYmxlKTtcblxuXHRcdFx0XHRcdGRhdGFJdGVtLmRpcnR5ID0gZmFsc2U7IC8vIEhpZGVzIFwiZGlydHlcIiBpbmRpY2F0b3IgaW4gZ3JpZFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG5vZGVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHQgXHRkcy5hZGQobm9kZSk7XG5cblx0XHRcdFx0Ly8gQ291bnQgYWN0aXZlIG5vZGVzXG5cdFx0XHRcdGlmIChub2RlLmFjdGl2ZSlcblx0XHRcdFx0XHRhY3RpdmVOb2Rlc0NudCsrO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZWZyZXNoIGdyaWRcblx0XHRcdHRoaXMuX2dyaWQucmVmcmVzaCgpO1xuXG5cdFx0XHQvLyBEaXNwbGF5IGdsb2JhbCB2YWx1ZXNcblx0XHRcdCQoJyNjbG0tdG90YWxBY3RpdmVOb2RlcycpLnRleHQoYWN0aXZlTm9kZXNDbnQpO1xuXHRcdFx0JCgnI2NsbS10b3RhbEluYWN0aXZlTm9kZXMnKS50ZXh0KG5vZGVzLmxlbmd0aCAtIGFjdGl2ZU5vZGVzQ250KTtcblx0XHRcdCQoJyNjbG0tdG90YWxDY3VMb2JieScpLnRleHQoZGF0YS5nZXRJbnQoJ2NjdUxvYmJ5JykpO1xuXHRcdFx0JCgnI2NsbS10b3RhbENjdU5vZGVzJykudGV4dChkYXRhLmdldEludCgnY2N1Tm9kZXMnKSk7XG5cdFx0XHQkKCcjY2xtLXRvdGFsUm9vbXMnKS50ZXh0KGRhdGEuZ2V0SW50KCdyb29tcycpKTtcblxuXHRcdFx0Ly8gU2hvdyBsb2JieSBzdGF0ZVxuXHRcdFx0dGhpcy5fc2hvd0xvYmJ5U3RhdGUoZGF0YS5nZXRCb29sKCdhY3RpdmUnKSk7XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfTk9ERVNfREFUQSlcblx0XHR7XG5cdFx0XHRsZXQgc3RhdHMgPSBkYXRhLmdldFNGU0FycmF5KCdzdGF0cycpO1xuXHRcdFx0bGV0IGkgPSB0aGlzLl9tYWluUmFuZ2VERC52YWx1ZSgpO1xuXHRcdFx0bGV0IGludGVydmFsTWlsbGlzID0gdGhpcy5pbnRlcnZhbHNbaV0ubWludXRlcyAqIDYwICogMTAwMDtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0cy5zaXplKCk7IGkrKylcblx0XHRcdHtcblx0XHRcdFx0bGV0IG5vZGVTdGF0cyA9IHN0YXRzLmdldFNGU09iamVjdChpKTtcblxuXHRcdFx0XHQvLyBHZXQgbm9kZSBpZFxuXHRcdFx0XHRsZXQgaWQgPSBub2RlU3RhdHMuZ2V0VXRmU3RyaW5nKCdpZCcpO1xuXG5cdFx0XHRcdC8vIEdldCBjaGFydHMgaXRlbSBmb3Igbm9kZVxuXHRcdFx0XHRsZXQgaXRlbSA9IHRoaXMucXVlcnlTZWxlY3RvcignI2NsbS1ub2RlTWluaUNoYXJ0c0NvbnRhaW5lciAjbm9kZV8nICsgaWQpO1xuXG5cdFx0XHRcdGlmIChpdGVtKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aXRlbS5hZGRDaGFydEVudHJpZXMoJ2NjdScsIG5vZGVTdGF0cy5nZXRTRlNPYmplY3QoJ2NjdScpLCBudWxsLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdFx0aXRlbS5hZGRDaGFydEVudHJpZXMoJ2NwdScsIG5vZGVTdGF0cy5nZXRTRlNPYmplY3QoJ2NwdScpLCBudWxsLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdFx0aXRlbS5hZGRDaGFydEVudHJpZXMoJ21lbScsIG5vZGVTdGF0cy5nZXRTRlNPYmplY3QoJ21lbScpLCBudWxsLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdFx0aXRlbS5hZGRDaGFydEVudHJpZXMoJ3RoZCcsIG5vZGVTdGF0cy5nZXRTRlNPYmplY3QoJ3RoZCcpLCBudWxsLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdFx0aXRlbS5hZGRDaGFydEVudHJpZXMoJ25ldCcsIG5vZGVTdGF0cy5nZXRTRlNPYmplY3QoJ25ldE91dCcpLCBub2RlU3RhdHMuZ2V0U0ZTT2JqZWN0KCduZXRJbicpLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRlbHNlIGlmIChjb21tYW5kID09IHRoaXMuUkVTUF9DSEFSVF9EQVRBKVxuXHRcdHtcblx0XHRcdGxldCBjaGFydERhdGEgPSBkYXRhLmdldFNGU09iamVjdCgnY2hhcnQnKTtcblx0XHRcdGxldCBpID0gdGhpcy5fY2hhcnRSYW5nZURELnZhbHVlKCk7XG5cdFx0XHRsZXQgaW50ZXJ2YWxNaWxsaXMgPSB0aGlzLmludGVydmFsc1tpXS5taW51dGVzICogNjAgKiAxMDAwO1xuXG5cdFx0XHQvLyBHZXQgbm9kZSBpZCBhbmQgY2hhcnQgdHlwZVxuXHRcdFx0bGV0IGlkID0gY2hhcnREYXRhLmdldFV0ZlN0cmluZygnaWQnKTtcblx0XHRcdGxldCB0eXBlID0gY2hhcnREYXRhLmdldFV0ZlN0cmluZygndHlwZScpO1xuXG5cdFx0XHRpZiAodGhpcy5fY2hhcnRJbmZvICYmIHRoaXMuX2NoYXJ0SW5mby5pZCA9PSBpZCAmJiB0aGlzLl9jaGFydEluZm8udHlwZSA9PSB0eXBlKVxuXHRcdFx0e1xuXHRcdFx0XHRzd2l0Y2ggKHR5cGUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXNlICduZXQnOlxuXHRcdFx0XHRcdFx0dGhpcy5fYWRkRGV0YWlsQ2hhcnRFbnRyaWVzKGNoYXJ0RGF0YS5nZXRTRlNPYmplY3QoJ25ldE91dCcpLCBjaGFydERhdGEuZ2V0U0ZTT2JqZWN0KCduZXRJbicpLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHR0aGlzLl9hZGREZXRhaWxDaGFydEVudHJpZXMoY2hhcnREYXRhLmdldFNGU09iamVjdCh0eXBlKSwgbnVsbCwgaW50ZXJ2YWxNaWxsaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoY29tbWFuZCA9PSB0aGlzLlJFU1BfTE9HX01FU1NBR0VTKVxuXHRcdHtcblx0XHRcdGxldCBsb2dFbnRyaWVzID0gZGF0YS5nZXRTRlNBcnJheSgnZW50cmllcycpO1xuXHRcdFx0XG5cdFx0XHRmb3IgKGxldCBlID0gMDsgZSA8IGxvZ0VudHJpZXMuc2l6ZSgpOyBlKyspXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBsb2dFbnRyeSA9IGxvZ0VudHJpZXMuZ2V0U0ZTT2JqZWN0KGUpO1xuXG5cdFx0XHRcdGxldCBlbGUgPSB7XG5cdFx0XHRcdFx0dGltZXN0YW1wOiBrZW5kby50b1N0cmluZyhuZXcgRGF0ZShsb2dFbnRyeS5nZXRMb25nKCd0aW1lJykpLCAnZGQvTU0veXl5eSBISDptbTpzcycpLFxuXHRcdFx0XHRcdGxldmVsOiBsb2dFbnRyeS5nZXRVdGZTdHJpbmcoJ2xldmVsJyksXG5cdFx0XHRcdFx0bWVzc2FnZTogbG9nRW50cnkuZ2V0VXRmU3RyaW5nKCdtc2cnKSxcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRsZXQgZHMgPSB0aGlzLl9sb2dHcmlkLmRhdGFTb3VyY2U7XG5cdFx0XHRcdGRzLmFkZChlbGUpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGl0ZW1zIGxpbWl0XG5cdFx0XHRcdHdoaWxlIChkcy50b3RhbCgpID4gdGhpcy5NQVhfTE9HX1NJWkUpXG5cdFx0XHRcdFx0ZHMucmVtb3ZlKGRzLmF0KDApKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRvblVwdGltZVVwZGF0ZWQodmFsdWVzKVxuXHR7XG5cdFx0dGhpcy5fdXB0aW1lU2VjcyA9IHZhbHVlc1szXTtcblx0XHR0aGlzLl91cHRpbWVTZWNzICs9ICh2YWx1ZXNbMl0gKiA2MCk7XG5cdFx0dGhpcy5fdXB0aW1lU2VjcyArPSAodmFsdWVzWzFdICogNjAgKiA2MCk7XG5cblx0XHQkKCcjY2xtLXVwdGltZURheXMnKS50ZXh0KCAodmFsdWVzWzBdIDw9IDkgPyAnMDAnIDogKHZhbHVlc1swXSA8PSA5OSA/ICcwJyA6ICcnKSkgKyB2YWx1ZXNbMF0gKTtcblx0XHQkKCcjY2xtLXVwdGltZUhvdXJzJykudGV4dCggKHZhbHVlc1sxXSA8PSA5ID8gJzAnIDogJycpICsgdmFsdWVzWzFdICk7XG5cdFx0JCgnI2NsbS11cHRpbWVNaW51dGVzJykudGV4dCggKHZhbHVlc1syXSA8PSA5ID8gJzAnIDogJycpICsgdmFsdWVzWzJdICk7XG5cdH1cblxuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBVSSBFVkVOVCBMSVNURU5FUlNcblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRfb25Ob2Rlc0dyaWRDaGFuZ2UoZSwgYXJncylcblx0e1xuXHRcdGxldCBncmlkID0gZS5zZW5kZXI7XG5cdFx0bGV0IGl0ZW1zID0gZ3JpZC5pdGVtcygpO1xuXG5cdFx0dGhpcy5fc2VsZWN0ZWROb2RlcyA9IFtdO1xuXHRcdHRoaXMuX3NlbGVjdGVkQWN0aXZlTm9kZXMgPSBbXTtcblxuXHRcdGZvciAobGV0IGkgb2YgZ3JpZC5zZWxlY3QoKSlcblx0XHR7XG5cdFx0XHRsZXQgZGF0YUl0ZW0gPSBncmlkLmRhdGFJdGVtKGkpO1xuXHRcdFx0dGhpcy5fc2VsZWN0ZWROb2Rlcy5wdXNoKGRhdGFJdGVtWydpZCddKTtcblxuXHRcdFx0aWYgKGRhdGFJdGVtWydhY3RpdmUnXSlcblx0XHRcdFx0dGhpcy5fc2VsZWN0ZWRBY3RpdmVOb2Rlcy5wdXNoKGRhdGFJdGVtWydpZCddKTtcblx0XHR9XG5cblx0XHQvLyBDb21wYXJlIHRoZSBsaXN0IG9mIHNlbGVjdGVkIG5vZGVzIHdpdGggdGhlIGxpc3Qgb2YgdmlzaWJsZVxuXHRcdC8vIGNoYXJ0IHJvd3MsIHRvIHNob3cvaGlkZSB0aGUgc2VsZWN0ZWQvZGVzZWxlY3RlZCBvbmVzXG5cdFx0dGhpcy5fdXBkYXRlQ2hhcnRlZE5vZGVzKCk7XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSBidXR0b24gdG8gZGVhY3RpdmF0ZSBzZWxlY3RlZCBhY3RpdmUgbm9kZXNcblx0XHR0aGlzLl91cGRhdGVEZWFjdGl2YXRlQnV0dG9uKCk7XG5cdH1cblxuXHRfb25Ob2Rlc0dyaWREYXRhQm91bmQoZSlcblx0e1xuXHRcdGxldCBncmlkID0gZS5zZW5kZXI7XG5cdFx0bGV0IGl0ZW1zID0gZ3JpZC5pdGVtcygpO1xuXHRcdGxldCBpdGVtc1RvU2VsZWN0ID0gW107XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG5cdFx0aXRlbXMuZWFjaChmdW5jdGlvbiAoaWR4LCByb3cpIHtcblx0XHRcdGxldCBkYXRhSXRlbSA9IGdyaWQuZGF0YUl0ZW0ocm93KTtcblx0XHRcdGlmIChzZWxmLl9zZWxlY3RlZE5vZGVzLmluY2x1ZGVzKGRhdGFJdGVtWydpZCddKSkge1xuXHRcdFx0IFx0aXRlbXNUb1NlbGVjdC5wdXNoKHJvdyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRlLnNlbmRlci5zZWxlY3QoaXRlbXNUb1NlbGVjdCk7XG5cblx0XHQvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblx0XHQvLyBIaWRlIGdyb3VwIGNvbHVtbiBhbmQgY29sbGFwc2UgaWNvblxuXHRcdCQoJyNjbG0tbm9kZXNMaXN0IC5rLWdyb3VwLWNvbCwgI2NsbS1ub2Rlc0xpc3QgLmstZ3JvdXAtY2VsbCcpLnJlbW92ZSgpO1xuXHRcdGxldCBzcGFuQ2VsbHMgPSAkKCcjY2xtLW5vZGVzTGlzdCAuay1ncm91cGluZy1yb3cnKS5jaGlsZHJlbigndGQnKTtcblx0XHRzcGFuQ2VsbHMuYXR0cignY29sc3BhbicsIHNwYW5DZWxscy5hdHRyKCdjb2xzcGFuJykgLSAxKTtcblx0XHQkKCcjY2xtLW5vZGVzTGlzdCAuay1pY29uLmstaS1jb2xsYXBzZScpLmhpZGUoKTtcblxuXHRcdC8vIE1vZGlmeSBncm91cCBsYWJlbFxuXHRcdCQoJyNjbG0tbm9kZXNMaXN0IC5rLWdyb3VwaW5nLXJvdyB0ZCBwLmstcmVzZXQnKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdGlmICgkKHRoaXMpLnRleHQoKSA9PSAnYWN0aXZlOiB0cnVlJylcblx0XHRcdFx0JCh0aGlzKS50ZXh0KCdBY3RpdmUgbm9kZXMnKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0JCh0aGlzKS50ZXh0KCdJbmFjdGl2ZSBub2RlcycpO1xuXHRcdH0pO1xuXHR9XG5cblx0X29uTWFpblJhbmdlQ2hhbmdlKGUpXG5cdHtcblx0XHQvLyBSZXF1ZXN0IG5vZGVzIGRhdGEgdG8gc2VydmVyXG5cdFx0dGhpcy5fcmVxdWVzdE5vZGVzRGF0YSgpO1xuXHR9XG5cblx0X29uQ2hhcnRSYW5nZUNoYW5nZShlKVxuXHR7XG5cdFx0Ly8gUmVxdWVzdCBkZXRhaWwgY2hhcnQgZGF0YSB0byBzZXJ2ZXJcblx0XHR0aGlzLl9yZXF1ZXN0RGV0YWlsQ2hhcnREYXRhKCk7XG5cdH1cblxuXHRfb25SZXF1ZXN0RGF0YUludGVydmFsKClcblx0e1xuXHRcdC8vIFJlcXVlc3Qgc2VsZWN0ZWQgbm9kZXMgZGF0YVxuXHRcdHRoaXMuX3JlcXVlc3ROb2Rlc0RhdGEoKTtcblxuXHRcdC8vIFJlcXVlc3QgZGV0YWlsIGNoYXJ0IGRhdGFcblx0XHR0aGlzLl9yZXF1ZXN0RGV0YWlsQ2hhcnREYXRhKCk7XG5cdH1cblxuXHRfcmVxdWVzdE5vZGVzTGlzdCgpXG5cdHtcblx0XHQvLyBDbGVhciBwcmV2aW91cyByZXF1ZXN0IHNjaGVkdWxpbmdcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fcmVxdWVzdE5vZGVzVGltZXIpO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgY29ubmVjdGlvbiBpcyBzdGlsbCBhdmFpbGFibGVcblx0XHRpZiAodGhpcy5zbWFydEZveC5pc0Nvbm5lY3RlZClcblx0XHR7XG5cdFx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0XHR0aGlzLnNlbmRFeHRlbnNpb25SZXF1ZXN0KHRoaXMuUkVRX0dFVF9OT0RFUyk7XG5cblx0XHRcdC8vIFNjaGVkdWxlIG5leHQgcmVxdWVzdFxuXHRcdFx0dGhpcy5fcmVxdWVzdE5vZGVzVGltZXIgPSBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5fcmVxdWVzdE5vZGVzTGlzdCwgdGhpcyksIDUwMDApOyAvLyBFdmVyeSA1IHNlY29uZHNcblx0XHR9XG5cdH1cblxuXHRfb25NaW5pQ2hhcnRDbGljayhlKVxuXHR7XG5cdFx0bGV0IG5vZGVJZCA9IGUuZGV0YWlsLm5vZGU7XG5cdFx0bGV0IG5vZGVEYXRhSXRlbSA9IHRoaXMuX2dyaWQuZGF0YVNvdXJjZS5nZXQobm9kZUlkKTtcblx0XHRsZXQgY2hhcnRUeXBlID0gZS5kZXRhaWwudHlwZTtcblx0XHRsZXQgY2hhcnRPcHRpb25zID0gZS5kZXRhaWwub3B0aW9ucztcblxuXHRcdC8vIFNhdmUgcmVmIHRvIGNoYXJ0ZWQgbm9kZVxuXHRcdHRoaXMuX2NoYXJ0SW5mbyA9IHtcblx0XHRcdGlkOiBub2RlSWQsXG5cdFx0XHR0eXBlOiBjaGFydFR5cGVcblx0XHR9O1xuXG5cdFx0Ly8gRXh0cmFjdCBjaGFydCB0aXRsZSBmcm9tIG9wdGlvbnNcblx0XHQkKCcjY2xtLWNoYXJ0TW9kYWxUaXRsZScpLnRleHQoY2hhcnRPcHRpb25zLnRpdGxlLnRleHQpO1xuXG5cdFx0aWYgKG5vZGVEYXRhSXRlbS5hbGlhcylcblx0XHR7XG5cdFx0XHQkKCcjY2xtLWNoYXJ0Tm9kZUFsaWFzJykudGV4dChub2RlRGF0YUl0ZW0uYWxpYXMpO1xuXHRcdFx0JCgnI2NsbS1jaGFydE5vZGVOYW1lJykudGV4dChub2RlRGF0YUl0ZW0ubmFtZSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQkKCcjY2xtLWNoYXJ0Tm9kZUFsaWFzJykudGV4dChub2RlRGF0YUl0ZW0ubmFtZSk7XG5cdFx0XHQkKCcjY2xtLWNoYXJ0Tm9kZU5hbWUnKS5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHNlY29uZGFyeSByYW5nZSBkcm9wZG93biB0byBtYWluIHJhbmdlIHZhbHVlXG5cdFx0bGV0IGluZGV4ID0gdGhpcy5fbWFpblJhbmdlREQuc2VsZWN0KCk7XG5cdFx0dGhpcy5fY2hhcnRSYW5nZURELnNlbGVjdChpbmRleCk7XG5cblx0XHQvLyBDcmVhdGUgY2hhcnQgdGFnXG5cdFx0JCgnI2NsbS1ub2RlRGV0YWlsQ2hhcnRDb250YWluZXInKS5hcHBlbmQoJCgnPGRpdj4nLCB7J2NsYXNzJzogJ2NoYXJ0J30pKVxuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBjaGFydFxuXHRcdHRoaXMuX2dldENoYXJ0VGFnKCkua2VuZG9DaGFydCh7XG5cdFx0XHR0cmFuc2l0aW9uczogZmFsc2UsXG5cdFx0XHRjaGFydEFyZWE6IHtcblx0XHRcdFx0YmFja2dyb3VuZDogJ3RyYW5zcGFyZW50Jyxcblx0XHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0ICAgIHBhZGRpbmc6MFxuXHRcdFx0fSxcblx0ICAgICAgICBsZWdlbmQ6IHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcblx0ICAgICAgICAgICAgdHlwZTogJ3NjYXR0ZXJMaW5lJyxcblx0ICAgICAgICAgICAgbGFiZWxzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogJ3swfScsXG5cdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnXG5cdCAgICAgICAgICAgIH0sXG5cdFx0XHRcdG1pc3NpbmdWYWx1ZXM6ICdnYXAnLFxuXHRcdFx0XHRtYXJrZXJzOiB7XG5cdFx0XHQgICAgICB2aXNpYmxlOiB0cnVlLFxuXHRcdFx0XHQgIHR5cGU6ICdjaXJjbGUnLFxuXHRcdFx0XHQgIHNpemU6IDMsXG5cdFx0XHQgICAgfSxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNlcmllczogY2hhcnRPcHRpb25zLnNlcmllcyxcblx0ICAgICAgICB5QXhpczogY2hhcnRPcHRpb25zLnlBeGlzLFxuXHQgICAgICAgIHhBeGlzOiB7XG5cdFx0XHRcdG1ham9yR3JpZExpbmVzOiB7XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LFxuXHRcdFx0XHRtYWpvclRpY2tzOiB7XG5cdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHR2aXNpYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHJvdGF0aW9uOiAwLFxuXHRcdFx0XHRcdHRlbXBsYXRlOiAnIzoga2VuZG8udG9TdHJpbmcobmV3IERhdGUodmFsdWUpLCBcIkhIOm1tXCIpICMnXG5cdFx0XHRcdH0sXG5cdCAgICAgICAgfSxcblx0XHRcdHRvb2x0aXA6IGNoYXJ0T3B0aW9ucy50b29sdGlwXG5cdCAgICB9KS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cblx0XHQvLyBDbGVhciBjaGFydFxuXHRcdHRoaXMuX2dldENoYXJ0V2lkZ2V0KCkuc2V0RGF0YVNvdXJjZShudWxsKTtcblxuXHRcdC8vIERpc3BsYXkgY2hhcnQgbW9kYWxcblx0XHQkKCcjY2xtLWNoYXJ0TW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuXG5cdFx0Ly8gUmVxdWVzdCBkZXRhaWwgY2hhcnQgZGF0YSB0byBzZXJ2ZXJcblx0XHR0aGlzLl9yZXF1ZXN0RGV0YWlsQ2hhcnREYXRhKCk7XG5cdH1cblxuXHRfb25DaGFydE1vZGFsSGlkZGVuKGUpXG5cdHtcblx0XHQvLyBEZXN0cm95IGNoYXJ0XG5cdFx0dGhpcy5fY2hhcnRJbmZvID0gbnVsbDtcblxuXHRcdCQoJyNjbG0tY2hhcnRNb2RhbFRpdGxlJykudGV4dCgnJyk7XG5cdFx0JCgnI2NsbS1jaGFydE5vZGVBbGlhcycpLnRleHQoJycpO1xuXHRcdCQoJyNjbG0tY2hhcnROb2RlTmFtZScpLnRleHQoJycpO1xuXG5cdFx0dGhpcy5fZ2V0Q2hhcnRXaWRnZXQoKS5kZXN0cm95KCk7XG5cdFx0dGhpcy5fZ2V0Q2hhcnRUYWcoKS5yZW1vdmUoKTtcblx0fVxuXG5cdF9yZXF1ZXN0T3JjaGVzdHJhdGlvbkxvZ3MoKVxuXHR7XG5cdFx0Ly8gQnVpbGQgcmVxdWVzdCBwYXJhbWV0ZXJzXG5cdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRwYXJhbXMucHV0TG9uZygndHMnLCB0aGlzLl9sYXN0TG9nc1JlcVRpbWVzdGFtcCk7XG5cblx0XHQvLyBTZW5kIHJlcXVlc3QgdG8gZXh0ZW5zaW9uXG5cdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9HRVRfTE9HX01FU1NBR0VTLCBwYXJhbXMpO1xuXG5cdFx0Ly8gVXBkYXRlIGxhc3QgcmVxdWVzdCB0aW1lXG5cdFx0dGhpcy5fbGFzdExvZ3NSZXFUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXHR9XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gUFJJVkFURSBNRVRIT0RTXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0X3VwZGF0ZUNoYXJ0ZWROb2RlcygpXG5cdHtcblx0XHQvLyBHZXQgc2VsZWN0ZWQgbm9kZXMgbm90IHlldCBzaG93biBpbiB0aGUgY2hhcnQgYXJlYVxuXHRcdGxldCB0b1Nob3cgPSB0aGlzLl9zZWxlY3RlZE5vZGVzLmZpbHRlcih4ID0+ICF0aGlzLl9jaGFydGVkTm9kZXMuaW5jbHVkZXMoeCkpO1xuXG5cdFx0Ly8gR2V0IG5vZGVzIHNob3duIGluIHRoZSBjaGFydCBhcmVhIG5vdCBpbiB0aGUgc2VsZWN0ZWQgbGlzdCBhbnltb3JlXG5cdFx0bGV0IHRvSGlkZSA9IHRoaXMuX2NoYXJ0ZWROb2Rlcy5maWx0ZXIoeCA9PiAhdGhpcy5fc2VsZWN0ZWROb2Rlcy5pbmNsdWRlcyh4KSk7XG5cblx0XHQvLyBTaG93IG5vZGVzIGNoYXJ0c1xuXHRcdGlmICh0b1Nob3cubGVuZ3RoID4gMClcblx0XHR7XG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiU0hPV0lORyBDSEFSVFMgT0YgTk9ERVM6IFwiICsgdG9TaG93KVxuXHRcdFx0dGhpcy5fY2hhcnRlZE5vZGVzID0gWy4uLnRoaXMuX2NoYXJ0ZWROb2RlcywgLi4udG9TaG93XTsgLy8gTWVyZ2UgYXJyYXlzXG5cblx0XHRcdC8vIERpc3BsYXkgbm9kZSBjaGFydHNcblx0XHRcdGZvciAobGV0IGlkIG9mIHRvU2hvdylcblx0XHRcdFx0dGhpcy5fZGlzcGxheU5vZGVDaGFydHNJdGVtKGlkKTtcblx0XHR9XG5cblx0XHQvLyBIaWRlIG5vZGVzIGNoYXJ0c1xuXHRcdGlmICh0b0hpZGUubGVuZ3RoID4gMClcblx0XHR7XG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiSElESU5HIENIQVJUUyBPRiBOT0RFUzogXCIgKyB0b0hpZGUpXG5cdFx0XHR0aGlzLl9jaGFydGVkTm9kZXMgPSB0aGlzLl9jaGFydGVkTm9kZXMuZmlsdGVyKHggPT4gIXRvSGlkZS5pbmNsdWRlcyh4KSk7XG5cblx0XHRcdC8vIFJlbW92ZSBub2RlIGNoYXJ0c1xuXHRcdFx0Zm9yIChsZXQgaWQgb2YgdG9IaWRlKVxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVOb2RlQ2hhcnRzSXRlbShpZCk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGRldGFpbCBjaGFydCBpZiB2aXNpYmxlXG5cdFx0XHRcdGlmICh0aGlzLl9jaGFydEluZm8gJiYgaWQgPT0gdGhpcy5fY2hhcnRJbmZvLmlkKVxuXHRcdFx0XHRcdCQoJyNjbG0tY2hhcnRNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2hvdy9oaWRlIGludGVydmFsIGRyb3Bkb3duXG5cdFx0aWYgKHRvU2hvdy5sZW5ndGggPiAwIHx8IHRvSGlkZS5sZW5ndGggPiAwKVxuXHRcdHtcblx0XHRcdGlmICh0aGlzLl9jaGFydGVkTm9kZXMubGVuZ3RoID4gMClcblx0XHRcdFx0JCgnI2NsbS1tYWluUmFuZ2VDb250YWluZXInKS5zaG93KCk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoJyNjbG0tbWFpblJhbmdlQ29udGFpbmVyJykuaGlkZSgpO1xuXHRcdH1cblxuXHRcdC8vIFJlcXVlc3QgY2hhcnRzIGRhdGEgZm9yIG5ld2x5IHNlbGVjdGVkIG5vZGVzXG5cdFx0Ly8gTk9URTogd2UgaGF2ZSB0byB1c2UgYSB0aW1lb3V0IGFzIGEgd29ya2Fyb3VuZCB0byBnaXZlIGNoYXJ0cyB0aW1lIHRvIGJlIHJlbmRlcmVkIGJlZm9yZSBkcmF3aW5nIHRoZW0sIG9yIHRoZXkgd2lsbCBleGNlZWQgdGhlaXIgY29udGFpbmVyJ3Mgd2lkdGhcblx0XHRpZiAodG9TaG93Lmxlbmd0aCA+IDApXG5cdFx0XHRzZXRUaW1lb3V0KCQucHJveHkodGhpcy5fcmVxdWVzdE5vZGVzRGF0YSwgdGhpcyksIDIwLCB0b1Nob3cpO1xuXHR9XG5cblx0X2dldFRpbWVTaW5jZUpvaW5UZW1wbGF0ZShkYXRhSXRlbSlcblx0e1xuXHRcdGxldCBub3cgPSBtb21lbnQoKTtcblx0XHRsZXQgam9pblRpbWUgPSBtb21lbnQoZGF0YUl0ZW1bJ2pvaW5UaW1lJ10pO1xuXG5cdFx0bGV0IGRpZmZEYXlzID0gbm93LmRpZmYoam9pblRpbWUsICdkYXlzJyk7XG5cdFx0bGV0IGRpZmZIb3VycyA9IG5vdy5kaWZmKGpvaW5UaW1lLCAnaG91cnMnKSAtIChkaWZmRGF5cyAqIDI0KTtcblx0XHRsZXQgZGlmZk1pbnV0ZXMgPSBub3cuZGlmZihqb2luVGltZSwgJ21pbnV0ZXMnKSAtICgoKGRpZmZEYXlzICogMjQpICsgZGlmZkhvdXJzKSAqIDYwKTtcblxuXHRcdHJldHVybiBgPHNwYW4+JHtkaWZmRGF5c31kICR7ZGlmZkhvdXJzfWggJHtkaWZmTWludXRlc31tPHNwYW4+YDtcblx0fVxuXG5cdF9nZXRIZWFsdGhUZW1wbGF0ZShkYXRhSXRlbSlcblx0e1xuXHRcdGxldCBzdHlsZSA9ICd0ZXh0LXN1Y2Nlc3MnO1xuXG5cdFx0aWYgKCFkYXRhSXRlbVsnaGVhbHRoJ10pXG5cdFx0XHRzdHlsZSA9ICd0ZXh0LWRhbmdlcic7XG5cblx0XHRyZXR1cm4gYDxzcGFuIGNsYXNzPVwiJHtzdHlsZX1cIj48aSBjbGFzcz1cImZhcyBmYS1jaXJjbGVcIj48L2k+PC9zcGFuPmA7XG5cdH1cblxuXHRfZ2V0UmVjeWNsYWJsZVRlbXBsYXRlKGRhdGFJdGVtKVxuXHR7XG5cdFx0bGV0IHN0eWxlID0gZGF0YUl0ZW1bJ3JlY3ljbGFibGUnXSA/ICd0ZXh0LXN1Y2Nlc3MnIDogJ3RleHQtbGlnaHQnO1xuXHRcdHJldHVybiBgPHNwYW4gY2xhc3M9XCIke3N0eWxlfVwiPjxpIGNsYXNzPVwiZmFzIGZhLWNpcmNsZVwiPjwvaT48L3NwYW4+YDtcblx0fVxuXG5cdF9nZXRUZXJtaW5hYmxlVGVtcGxhdGUoZGF0YUl0ZW0pXG5cdHtcblx0XHRsZXQgc3R5bGUgPSBkYXRhSXRlbVsndGVybWluYWJsZSddID8gJ3RleHQtc3VjY2VzcycgOiAndGV4dC1saWdodCc7XG5cdFx0cmV0dXJuIGA8c3BhbiBjbGFzcz1cIiR7c3R5bGV9XCI+PGkgY2xhc3M9XCJmYXMgZmEtY2lyY2xlXCI+PC9pPjwvc3Bhbj5gO1xuXHR9XG5cblx0X3Nob3dMb2JieVN0YXRlKGlzQWN0aXZlKVxuXHR7XG5cdFx0aWYgKGlzQWN0aXZlKVxuXHRcdHtcblx0XHRcdCQoJyNjbG0tbG9iYnlTdGF0ZSAuYWN0aXZlJykuc2hvdygpO1xuXHRcdFx0JCgnI2NsbS1sb2JieVN0YXRlIC5pbmFjdGl2ZScpLmhpZGUoKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdCQoJyNjbG0tbG9iYnlTdGF0ZSAuYWN0aXZlJykuaGlkZSgpO1xuXHRcdFx0JCgnI2NsbS1sb2JieVN0YXRlIC5pbmFjdGl2ZScpLnNob3coKTtcblx0XHR9XG5cblx0XHQkKCcjY2xtLWxvYmJ5U3RhdGUnKS5zaG93KCk7XG5cblx0XHQvLyBFbmFibGUvZGlzYWJsZSBzY2FsZS11cCBidXR0b25cblx0XHQkKCcjY2xtLXNjYWxlVXBCdCcpLnByb3AoJ2Rpc2FibGVkJywgIWlzQWN0aXZlKTtcblx0fVxuXG5cdF9yZXF1ZXN0Tm9kZXNEYXRhKG5vZGVzID0gbnVsbClcblx0e1xuXHRcdGlmIChub2RlcyA9PSBudWxsKVxuXHRcdFx0bm9kZXMgPSB0aGlzLl9jaGFydGVkTm9kZXM7XG5cblx0XHQvL2NvbnNvbGUubG9nKFwiUkVRVUVTVElORyBEQVRBIEZPUiBOT0RFUyBcIiArIG5vZGVzICsgXCIgKGxhc3QgXCIgKyB0aGlzLmludGVydmFsc1t0aGlzLl9tYWluUmFuZ2VERC52YWx1ZSgpXS5taW51dGVzICsgXCIgbWludXRlcylcIilcblxuXHRcdGlmIChub2Rlcy5sZW5ndGggPiAwICYmIHRoaXMuc21hcnRGb3guaXNDb25uZWN0ZWQpXG5cdFx0e1xuXHRcdFx0bGV0IGkgPSB0aGlzLl9tYWluUmFuZ2VERC52YWx1ZSgpO1xuXHRcdFx0bGV0IGludGVydmFsTWlsbGlzID0gdGhpcy5pbnRlcnZhbHNbaV0ubWludXRlcyAqIDYwICogMTAwMDtcblx0XHRcdGxldCBkYXRhUG9pbnRzID0gdGhpcy5pbnRlcnZhbHNbaV0ucG9pbnRzMTtcblxuXHRcdFx0Ly8gTGlzdCBub2Rlc1xuXHRcdFx0bGV0IGxpc3QgPSBuZXcgU0ZTMlguU0ZTQXJyYXkoKTtcblxuXHRcdFx0Zm9yIChsZXQgbm9kZUlkIG9mIG5vZGVzKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgb2JqID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0XHRvYmoucHV0VXRmU3RyaW5nKCdpZCcsIG5vZGVJZCk7XG5cdFx0XHRcdG9iai5wdXRMb25nKCdpbnQnLCBpbnRlcnZhbE1pbGxpcyk7XG5cdFx0XHRcdG9iai5wdXRJbnQoJ3B0cycsIGRhdGFQb2ludHMpO1xuXG5cdFx0XHRcdGxpc3QuYWRkU0ZTT2JqZWN0KG9iaik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1aWxkIHJlcXVlc3QgcGFyYW1ldGVyc1xuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRcdHBhcmFtcy5wdXRTRlNBcnJheSgnbm9kZXMnLCBsaXN0KTtcblxuXHRcdFx0Ly8gU2VuZCByZXF1ZXN0IHRvIEV4dGVuc2lvblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9HRVRfTk9ERVNfREFUQSwgcGFyYW1zKTtcblx0XHR9XG5cdH1cblxuXHRfcmVxdWVzdERldGFpbENoYXJ0RGF0YSgpXG5cdHtcblx0XHRpZiAodGhpcy5fY2hhcnRJbmZvKVxuXHRcdHtcblx0XHRcdGxldCBpID0gdGhpcy5fY2hhcnRSYW5nZURELnZhbHVlKCk7XG5cblx0XHRcdGxldCBwYXJhbXMgPSBuZXcgU0ZTMlguU0ZTT2JqZWN0KCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCdpZCcsIHRoaXMuX2NoYXJ0SW5mby5pZCk7XG5cdFx0XHRwYXJhbXMucHV0VXRmU3RyaW5nKCd0eXBlJywgdGhpcy5fY2hhcnRJbmZvLnR5cGUpO1xuXHRcdFx0cGFyYW1zLnB1dExvbmcoJ2ludCcsIHRoaXMuaW50ZXJ2YWxzW2ldLm1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuXHRcdFx0cGFyYW1zLnB1dEludCgncHRzJywgdGhpcy5pbnRlcnZhbHNbaV0ucG9pbnRzMik7XG5cblx0XHRcdC8vIFNlbmQgcmVxdWVzdCB0byBFeHRlbnNpb25cblx0XHRcdHRoaXMuc2VuZEV4dGVuc2lvblJlcXVlc3QodGhpcy5SRVFfR0VUX0NIQVJUX0RBVEEsIHBhcmFtcyk7XG5cdFx0fVxuXHR9XG5cblx0X3JlbW92ZU5vZGVDaGFydHNJdGVtKG5vZGVJZClcblx0e1xuXHRcdGxldCBlbGVtZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjY2xtLW5vZGVNaW5pQ2hhcnRzQ29udGFpbmVyICNub2RlXycgKyBub2RlSWQpO1xuXG5cdFx0Ly8gRGVzdHJveSBlbGVtZW50XG5cdFx0ZWxlbWVudC5kZXN0cm95KCk7XG5cblx0XHQvLyBSZW1vdmUgZWxlbWVudCBmcm9tIGNvbnRhaW5lclxuXHRcdHRoaXMucXVlcnlTZWxlY3RvcignI2NsbS1ub2RlTWluaUNoYXJ0c0NvbnRhaW5lcicpLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXHR9XG5cblx0X2Rpc3BsYXlOb2RlQ2hhcnRzSXRlbShub2RlSWQpXG5cdHtcblx0XHRsZXQgbm9kZURhdGFJdGVtID0gdGhpcy5fZ3JpZC5kYXRhU291cmNlLmdldChub2RlSWQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0XHRsZXQgZWxlbWVudCA9IG5ldyBOb2RlTWluaUNoYXJ0cyhub2RlRGF0YUl0ZW1bJ2lkJ10sIG5vZGVEYXRhSXRlbVsnYWxpYXMnXSwgbm9kZURhdGFJdGVtWyduYW1lJ10pO1xuXG5cdFx0Ly8gQXBwZW5kIGVsZW1lbnQgdG8gY29udGFpbmVyXG5cdFx0dGhpcy5xdWVyeVNlbGVjdG9yKCcjY2xtLW5vZGVNaW5pQ2hhcnRzQ29udGFpbmVyJykuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cdH1cblxuXHRfZ2V0Q2hhcnRUYWcoKVxuXHR7XG5cdFx0cmV0dXJuICQoJyNjbG0tY2hhcnRNb2RhbCAuY2hhcnQnKTtcblx0fVxuXG5cdF9nZXRDaGFydFdpZGdldCgpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fZ2V0Q2hhcnRUYWcoKS5kYXRhKCdrZW5kb0NoYXJ0Jyk7XG5cdH1cblxuXHRfYWRkRGV0YWlsQ2hhcnRFbnRyaWVzKGRhdGEsIGRhdGExLCBpbnRlcnZhbE1pbGxpcylcblx0e1xuXHRcdGxldCBsYXN0VGltZXN0YW1wID0gZGF0YS5nZXRMb25nKCdsYXN0Jyk7XG5cdFx0bGV0IHZhbHVlcyA9IGRhdGEuZ2V0TG9uZ0FycmF5KCdkYXRhJyk7XG5cdFx0bGV0IHZhbHVlczEgPSAoZGF0YTEgIT0gbnVsbCA/IGRhdGExLmdldExvbmdBcnJheSgnZGF0YScpIDogbnVsbCk7XG5cdFx0bGV0IGNoYXJ0V2lkZ2V0ID0gdGhpcy5fZ2V0Q2hhcnRXaWRnZXQoKTtcblxuXHRcdC8vIERpdmlkZSBpbnRlcnZhbCBieSB0aGUgbnVtYmVyIG9mIGRhdGEgcG9pbnRzIHRvIGNhbGN1bGF0ZSB0aGVpciB0aW1lc3RhbXBzXG5cdFx0bGV0IHNsaWNlTWlsbGlzID0gTWF0aC5yb3VuZChpbnRlcnZhbE1pbGxpcyAvIHZhbHVlcy5sZW5ndGgpO1xuXG5cdFx0bGV0IGRzID0gbmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSgpO1xuXHRcdGxldCBmaXJzdFRpbWVzdGFtcCA9IGxhc3RUaW1lc3RhbXAgLSBpbnRlcnZhbE1pbGxpcztcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKVxuXHRcdHtcblx0XHRcdGxldCB0aW1lc3RhbXAgPSBmaXJzdFRpbWVzdGFtcCArIChzbGljZU1pbGxpcyAqIGkpO1xuXG5cdFx0XHRsZXQgdmFsdWUgPSB2YWx1ZXNbaV0gPCAwID8gbnVsbCA6IHZhbHVlc1tpXTtcblx0XHRcdGxldCB2YWx1ZTEgPSB2YWx1ZXMxID8gKHZhbHVlczFbaV0gPCAwID8gbnVsbCA6IHZhbHVlczFbaV0pIDogbnVsbDtcblxuXHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHR0czogdGltZXN0YW1wLFxuXHRcdFx0XHR2YWw6IHZhbHVlLFxuXHRcdFx0XHR2YWwxOiB2YWx1ZTEsXG5cdFx0XHR9O1xuXG5cdFx0XHRkcy5hZGQoZW50cnkpO1xuXHRcdH1cblxuXHRcdC8vIFNldCBjaGFydCdzIHgtYXhpcyBsaW1pdHNcblx0XHRjaGFydFdpZGdldC5vcHRpb25zLnhBeGlzLm1pbiA9IGZpcnN0VGltZXN0YW1wO1xuXHRcdGNoYXJ0V2lkZ2V0Lm9wdGlvbnMueEF4aXMubWF4ID0gbGFzdFRpbWVzdGFtcDtcblxuXHRcdGNoYXJ0V2lkZ2V0LnNldERhdGFTb3VyY2UoZHMpO1xuXHR9XG5cblx0X3VwZGF0ZURlYWN0aXZhdGVCdXR0b24oKVxuXHR7XG5cdFx0bGV0IGNudCA9IHRoaXMuX3NlbGVjdGVkQWN0aXZlTm9kZXMubGVuZ3RoO1xuXHRcdGxldCB0eHQgPSAoY250ID4gMCA/IGNudCA6ICcnKSArICcgbm9kZScgKyAoY250ICE9IDEgPyAncycgOiAnJyk7XG5cblx0XHQkKCcjY2xtLWRlYWN0aXZhdGVCdCcpLnByb3AoJ2Rpc2FibGVkJywgY250ID09IDApO1xuXHRcdCQoJyNjbG0tZGVhY3RpdmF0ZU5vZGVzTnVtJykudGV4dCh0eHQpO1xuXHR9XG5cblx0X29uRGVhY3RpdmF0ZUJ0Q2xpY2soKVxuXHR7XG5cdFx0dGhpcy5zaGVsbEN0cmwuc2hvd0NvbmZpcm1XYXJuaW5nKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVhY3RpdmF0ZSB0aGUgc2VsZWN0ZWQgYWN0aXZlIG5vZGUke3RoaXMuX3NlbGVjdGVkQWN0aXZlTm9kZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfT8gVGhpcyBvcGVyYXRpb24gaXMgaXJyZXZlcnNpYmxlLmAsICQucHJveHkodGhpcy5fb25EZWFjdGl2YXRlTm9kZXNDb25maXJtLCB0aGlzKSk7XG5cdH1cblxuXHRfb25EZWFjdGl2YXRlTm9kZXNDb25maXJtKClcblx0e1xuXHRcdGlmICh0aGlzLl9zZWxlY3RlZEFjdGl2ZU5vZGVzLmxlbmd0aCA+IDAgICYmIHRoaXMuc21hcnRGb3guaXNDb25uZWN0ZWQpXG5cdFx0e1xuXHRcdFx0bGV0IHBhcmFtcyA9IG5ldyBTRlMyWC5TRlNPYmplY3QoKTtcblx0XHRcdHBhcmFtcy5wdXRVdGZTdHJpbmdBcnJheSgnbm9kZXMnLCB0aGlzLl9zZWxlY3RlZEFjdGl2ZU5vZGVzKTtcblxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9ERUFDVElWQVRFX05PREVTLCBwYXJhbXMpO1xuXHRcdH1cblx0fVxuXG5cdF9vblNjYWxlVXBCdENsaWNrKClcblx0e1xuXHRcdC8vIERpc3BsYXkgc2NhbGUtdXAgbW9kYWxcblx0XHQkKCcjY2xtLXNjYWxlVXBNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG5cdH1cblxuXHRfb25TY2FsZVVwQ29uZmlybUJ0Q2xpY2soKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3NjYWxlVXBWYWxpZGF0b3IudmFsaWRhdGUoKSlcblx0XHR7XG5cdFx0XHQvLyBSZXRyaWV2ZSBzY2FsZS11cCBkZXRhaWxzXG5cdFx0XHRsZXQgcGFyYW1zID0gbmV3IFNGUzJYLlNGU09iamVjdCgpO1xuXHRcdFx0cGFyYW1zLnB1dEludCgnbnVtJywgdGhpcy5fbnVtTm9kZXNJbi52YWx1ZSgpKTtcblxuXHRcdFx0Ly8gU2VuZCBzY2FsZS11cCByZXF1ZXN0IHRvIHNlcnZlclxuXHRcdFx0dGhpcy5zZW5kRXh0ZW5zaW9uUmVxdWVzdCh0aGlzLlJFUV9TQ0FMRV9VUCwgcGFyYW1zKTtcblxuXHRcdFx0Ly8gSGlkZSBtb2RhbFxuXHRcdFx0JCgnI2NsbS1zY2FsZVVwTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuXHRcdH1cblx0fVxuXG5cdF9vblNjYWxlVXBNb2RhbEhpZGRlbihlKVxuXHR7XG5cdFx0Ly8gUmVzZXQgdmFsaWRhdG9yXG5cdFx0dGhpcy5fc2NhbGVVcFZhbGlkYXRvci5oaWRlTWVzc2FnZXMoKTtcblxuXHRcdC8vIFRoZSBtZXRob2QgYWJvdmUgZG9lc24ndCByZW1vdmUgdGhlIGstaW52YWxpZCBjbGFzc2VzIGFuZCBhcmlhLWludmFsaWQ9XCJ0cnVlXCIgYXR0cmlidXRlcyBmcm9tIGlucHV0c1xuXHRcdC8vIExldCdzIGRvIGl0IG1hbnVhbGx5XG5cdFx0JCgnI2NsbS1zY2FsZVVwRm9ybSAuay1pbnZhbGlkJykucmVtb3ZlQ2xhc3MoJ2staW52YWxpZCcpO1xuXHRcdCQoJyNjbG0tc2NhbGVVcEZvcm0gW2FyaWEtaW52YWxpZD1cInRydWVcIl0nKS5yZW1vdmVBdHRyKCdhcmlhLWludmFsaWQnKTtcblxuXHRcdC8vIFJlc2V0IHNjYWxlLXVwIGZvcm1cblx0XHR0aGlzLl9udW1Ob2Rlc0luLnZhbHVlKDEpO1xuXHR9XG5cblxuXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIFBSSVZBVEUgR0VUVEVSU1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDM2ZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBIiwic291cmNlUm9vdCI6IiJ9